  [1m[36m (108.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "date_joined" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (120.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (123.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (125.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150322111417')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:27:43', '2015-03-22 18:27:43', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:27:43', '2015-03-22 18:27:43', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:31:33', '2015-03-22 18:31:33', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:31:33', '2015-03-22 18:31:33', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:36:01', '2015-03-22 18:36:01', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:36:01', '2015-03-22 18:36:01', 980190962)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:36:26', '2015-03-22 18:36:26', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:36:26', '2015-03-22 18:36:26', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:36:46', '2015-03-22 18:36:46', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:36:46', '2015-03-22 18:36:46', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:37:40', '2015-03-22 18:37:40', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:37:40', '2015-03-22 18:37:40', 980190962)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:38:42', '2015-03-22 18:38:42', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:38:42', '2015-03-22 18:38:42', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:38:54', '2015-03-22 18:38:54', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:38:54', '2015-03-22 18:38:54', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:39:17', '2015-03-22 18:39:17', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:39:17', '2015-03-22 18:39:17', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:39:59', '2015-03-22 18:39:59', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:39:59', '2015-03-22 18:39:59', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:40:16', '2015-03-22 18:40:16', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:40:16', '2015-03-22 18:40:16', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:41:13', '2015-03-22 18:41:13', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:41:13', '2015-03-22 18:41:13', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:41:45', '2015-03-22 18:41:45', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:41:45', '2015-03-22 18:41:45', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:43:42', '2015-03-22 18:43:42', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:43:42', '2015-03-22 18:43:42', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:44:54', '2015-03-22 18:44:54', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:44:54', '2015-03-22 18:44:54', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (106.9ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (125.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (132.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (116.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150322111417')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:46:42', '2015-03-22 18:46:42', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:46:42', '2015-03-22 18:46:42', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:47:02', '2015-03-22 18:47:02', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:47:02', '2015-03-22 18:47:02', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:47:23', '2015-03-22 18:47:23', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:47:23', '2015-03-22 18:47:23', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:47:31', '2015-03-22 18:47:31', 980190962)
SQLite3::SQLException: table users has no column named string: INSERT INTO "users" ("username", "string", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2015-03-22 18:47:31', '2015-03-22 18:47:31', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("username", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-22 18:48:08', '2015-03-22 18:48:08', 980190962)
SQLite3::SQLException: table users has no column named password: INSERT INTO "users" ("username", "email", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-22 18:48:08', '2015-03-22 18:48:08', 980190962)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (103.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_should_be_invalid
--------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (126.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_should_be_invalid
--------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (137.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_should_be_invalid
--------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (122.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_should_be_invalid
--------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (129.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_should_be_invalid
--------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (111.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_should_be_invalid
--------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (166.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_should_be_invalid
--------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (103.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_should_be_invalid
--------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (107.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (107.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (164.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (115.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (140.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (159.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (118.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (102.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (104.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (123.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (103.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (116.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (112.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$7WC6Y.3yyfpZHCDir3pt4.KlXvyVN7HiGK67DUTGotRdmbGFAgo1u"], ["created_at", "2015-03-22 19:12:52.443983"], ["updated_at", "2015-03-22 19:12:52.443983"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (240.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$G/duCOZ3pENT0/cH58UBouBjr8PmWVFBENDeII5vyIRtHh4NG1sP6"], ["created_at", "2015-03-22 19:14:12.929215"], ["updated_at", "2015-03-22 19:14:12.929215"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$G1hYtjFxmo9xcCYCmW476eZxb.I0o5UrnIiWiib7kbt55x7VHsAXK"], ["created_at", "2015-03-22 19:14:12.936045"], ["updated_at", "2015-03-22 19:14:12.936045"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (110.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$l0iORw4oFtvpODtSHYtwTee5HhTgUV62xMYa/8GGmhKAYrdArwQYS"], ["created_at", "2015-03-22 19:14:51.992095"], ["updated_at", "2015-03-22 19:14:51.992095"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$8thrIDFWrDUxi.oIulE84.SlHC6BgcbwajQBI.dPs9rlwT.UtzAhe"], ["created_at", "2015-03-22 19:14:51.998826"], ["updated_at", "2015-03-22 19:14:51.998826"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (118.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$Gcspxq2d7kPRhk4o0MSLPeh79iahI6TAwaFVq5/QsHBMQtKHwwE2e"], ["created_at", "2015-03-22 19:15:23.508994"], ["updated_at", "2015-03-22 19:15:23.508994"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$dGkm8Uzo5N1Nat3jrkP7EuA3reGDF0thBPDirpgyud2td67HaKgs."], ["created_at", "2015-03-22 19:15:23.534492"], ["updated_at", "2015-03-22 19:15:23.534492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (212.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$FWVdhDaGdOt.shp.rcSwe.e6mR.gp7Mn82wB0Hrc5TUt/idgAVesW"], ["created_at", "2015-03-22 19:22:29.628175"], ["updated_at", "2015-03-22 19:22:29.628175"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$6aVYaZ589tDln4vlVcyM0.2av9vKbdMUo2Rv3g26GY4/g.DYuyp1W"], ["created_at", "2015-03-22 19:22:29.652504"], ["updated_at", "2015-03-22 19:22:29.652504"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (148.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$EUIw1BbPgZ.6UpZvWvPvxenWE1ieNi9sa8bLF1YSS8hWJw8eymWeO"], ["created_at", "2015-03-22 19:22:43.366853"], ["updated_at", "2015-03-22 19:22:43.366853"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$Vr/beQGGelMRKzDbeRwJuOf6emYVo3DOLbP.KOXS2.oAMtxFDZspG"], ["created_at", "2015-03-22 19:22:43.389358"], ["updated_at", "2015-03-22 19:22:43.389358"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (141.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$YDHFkOhmYN7y8OvFR0YaeujxUiz4Wh4SG.x7c0vdueI6Fktyn.Qky"], ["created_at", "2015-03-22 19:23:11.428943"], ["updated_at", "2015-03-22 19:23:11.428943"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$rqJYm0/gxbMvJd2MV1Q4g.yDYPN9P1ubdte7PNvv.kr7aUS4D3Cwi"], ["created_at", "2015-03-22 19:23:11.455906"], ["updated_at", "2015-03-22 19:23:11.455906"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (100.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$6ZQ1xcRr2vm1V0POW0nTmObGPHoAadlppvXTwOVPnD43/PY4HxBZ6"], ["created_at", "2015-03-22 19:23:36.061969"], ["updated_at", "2015-03-22 19:23:36.061969"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$KRSTdDsdbh.811Rl8TTuB.W522HNfy/r129U2JpHsioEhXTiSqNhS"], ["created_at", "2015-03-22 19:23:36.072856"], ["updated_at", "2015-03-22 19:23:36.072856"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (130.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$/nDwFo8fhVLHdm8MfdDw7uGw/GGFuXsOvIAFvqVPbvDBEYtEuDP9m"], ["created_at", "2015-03-22 19:24:15.676350"], ["updated_at", "2015-03-22 19:24:15.676350"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$oXsk/L3C2NLizVYFp5mo/.xxsXiJQRh/oK9JvRCg.mIZXTHEkrI.2"], ["created_at", "2015-03-22 19:24:15.683086"], ["updated_at", "2015-03-22 19:24:15.683086"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register as HTML
Completed 400 Bad Request in 0ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (315.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$3qL0e61PF1z110hJCoiLC./H1K5ednl9htPV1Q93VUEo2tkQqaxgq"], ["created_at", "2015-03-22 19:25:32.717234"], ["updated_at", "2015-03-22 19:25:32.717234"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$1JHGDPD11X1EnUND.C1KBOzsy4ah5lYGZmrExeaS4d0kOPlontrbq"], ["created_at", "2015-03-22 19:25:32.723461"], ["updated_at", "2015-03-22 19:25:32.723461"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (14.3ms)
Completed 200 OK in 1324ms (Views: 1323.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (164.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$vksUZjvPW9FZtuaDTmuBi.ivv30LBApIAF0tsO4KZXTZb3CLLeZVu"], ["created_at", "2015-03-22 19:26:23.727080"], ["updated_at", "2015-03-22 19:26:23.727080"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$0cBzu7YZCc9CO6f4BnxsUOu2IUS3sXIoZP7UqSUJpvFiGm7uTFw9q"], ["created_at", "2015-03-22 19:26:23.734465"], ["updated_at", "2015-03-22 19:26:23.734465"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (13.9ms)
Completed 200 OK in 59ms (Views: 58.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.1ms)
Completed 200 OK in 24ms (Views: 24.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (119.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (24.7ms)
Completed 200 OK in 76ms (Views: 68.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (3.9ms)
Completed 200 OK in 23ms (Views: 22.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$je2nhQN1VvQ/zCeTFufEmuEb8B0Trh78G8I8htvvk5g7eSk3532b."], ["created_at", "2015-03-22 19:26:43.332413"], ["updated_at", "2015-03-22 19:26:43.332413"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$7QzBPyKFUYxN2Qnek17DROC2AvcmuSc5UW16aXDSqqLsFp33kKwvG"], ["created_at", "2015-03-22 19:26:43.359177"], ["updated_at", "2015-03-22 19:26:43.359177"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (116.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (24.3ms)
Completed 200 OK in 80ms (Views: 71.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
Completed 400 Bad Request in 0ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$kOiUOPKUMuz4g1CbsOO4OOuK97e7ccr.B0PBb5g2c7.2UbL8PNrbS"], ["created_at", "2015-03-22 19:26:52.857557"], ["updated_at", "2015-03-22 19:26:52.857557"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$ikgkOl23xantituQm9nOeeGK/zaQQ.ItljDoqDN3j/JI/5nTO8Po2"], ["created_at", "2015-03-22 19:26:52.874236"], ["updated_at", "2015-03-22 19:26:52.874236"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (109.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (16.0ms)
Completed 200 OK in 89ms (Views: 78.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$9F1R2aSrwZkMxHeRPRDjVOh3NnlYPjElS42Y3GHFnf4Cl9cx0eqvC"], ["created_at", "2015-03-22 19:27:05.189312"], ["updated_at", "2015-03-22 19:27:05.189312"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$JsBY98Ud95EPPktHJDVe.u9Q8d4l.OxnaBqrEvyoQKsJyxHq9//h2"], ["created_at", "2015-03-22 19:27:05.202447"], ["updated_at", "2015-03-22 19:27:05.202447"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (129.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (25.0ms)
Completed 200 OK in 79ms (Views: 73.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>nil}
Completed 400 Bad Request in 0ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$rJbViYGVosd9/X8yj5WpkuILXApL8M5FTwa5ylQYflN/oPCXUF79e"], ["created_at", "2015-03-22 19:27:41.905793"], ["updated_at", "2015-03-22 19:27:41.905793"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$P4XUUxKLigMgCD2OId.cBeUa9.24Gr1sWbvkK3rtoHj7sa4uEhVcW"], ["created_at", "2015-03-22 19:27:41.922670"], ["updated_at", "2015-03-22 19:27:41.922670"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (108.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>nil}
Completed 400 Bad Request in 0ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (26.9ms)
Completed 200 OK in 77ms (Views: 76.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$OCo4ROXm3S.iYt.eMiotburxXUmqfvw.ZBhPcfuqjq0fnp83kk3eW"], ["created_at", "2015-03-22 19:28:25.805462"], ["updated_at", "2015-03-22 19:28:25.805462"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$68z6TB1UbjviAvH.XOvRn.PRQqmqL4t148pIYNrWUCF146vpmoxeu"], ["created_at", "2015-03-22 19:28:25.817703"], ["updated_at", "2015-03-22 19:28:25.817703"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (108.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{}}
Completed 400 Bad Request in 0ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (17.3ms)
Completed 200 OK in 90ms (Views: 79.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$GjpLb9lHlv5WlYSxa3r6HukjJHC/tl6aVhl.RbVNVf9q715jAXHI6"], ["created_at", "2015-03-22 19:29:02.010230"], ["updated_at", "2015-03-22 19:29:02.010230"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$RetoE/0uTqkfFQNKEJrJD.jlVf5UjSjN6SzXs9VjoEMUle6LBP4eS"], ["created_at", "2015-03-22 19:29:02.024441"], ["updated_at", "2015-03-22 19:29:02.024441"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (122.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
Completed 400 Bad Request in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (25.4ms)
Completed 200 OK in 79ms (Views: 73.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$aQZeNGWsN61B6CJGGIZs..DZ7e2xab02IyttDfyAAEGcz.pp47acy"], ["created_at", "2015-03-22 19:29:50.064971"], ["updated_at", "2015-03-22 19:29:50.064971"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$YNY4f0ij8BAOKJTCpSR8QOsFRnm4LU9h9LdGeAyzXtlBsalEgvmTy"], ["created_at", "2015-03-22 19:29:50.081931"], ["updated_at", "2015-03-22 19:29:50.081931"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (127.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$t498VwHCPx4RwZCUodEgHefYMTqnfevsw.m8DijcyUfQL1M6RxqRi"], ["created_at", "2015-03-22 19:30:18.115450"], ["updated_at", "2015-03-22 19:30:18.115450"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$g5u9cEjq5deMIj0glFRCRuqjaytRBf1Nx4dvIAyLiOGmwaw1qArLe"], ["created_at", "2015-03-22 19:30:18.158378"], ["updated_at", "2015-03-22 19:30:18.158378"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (13.3ms)
Completed 200 OK in 60ms (Views: 59.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{}}
Completed 400 Bad Request in 0ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (110.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (26.0ms)
Completed 200 OK in 77ms (Views: 72.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.1ms)
Completed 400 Bad Request in 43ms (Views: 27.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$P3zISzU050TIbC/yJ3FW4.rDB7Ww9wvxUDP0kATmZsS3yu6Czo0DK"], ["created_at", "2015-03-22 19:30:53.262171"], ["updated_at", "2015-03-22 19:30:53.262171"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$bBQOHFWzgbj8yfIUcojIbOcS3x3uNDcLcrwmvqxYmK0YsYLM2iV0K"], ["created_at", "2015-03-22 19:30:53.284682"], ["updated_at", "2015-03-22 19:30:53.284682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (103.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$tpiCRHzI09D8GA/cEOPlTuWAncg2NYSJgujnC1Zr0HG.TIMXbmmZe"], ["created_at", "2015-03-22 19:31:59.962312"], ["updated_at", "2015-03-22 19:31:59.962312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$n42Npa7/5Hwn3.c5wP.FkeMqlrc1C6JIUtfgg2u2sw5J.flFHFg4a"], ["created_at", "2015-03-22 19:31:59.988863"], ["updated_at", "2015-03-22 19:31:59.988863"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (14.2ms)
Completed 200 OK in 61ms (Views: 60.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.6ms)
Completed 400 Bad Request in 31ms (Views: 26.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (105.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$FAvw1Lp9woGUwJZDpwe7e.P4QdCU0KNL336yQ7pBXfkp4ZKjPXiZi"], ["created_at", "2015-03-22 19:32:57.072523"], ["updated_at", "2015-03-22 19:32:57.072523"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$7WL2N/yamCPA6PRhMJRz.eVhc2NyUZRYXgV8kBxWNH7OvKDZdmVaW"], ["created_at", "2015-03-22 19:32:57.104420"], ["updated_at", "2015-03-22 19:32:57.104420"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (14.2ms)
Completed 200 OK in 62ms (Views: 61.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.4ms)
Completed 400 Bad Request in 31ms (Views: 27.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (123.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (17.9ms)
Completed 400 Bad Request in 114ms (Views: 84.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (9.8ms)
Completed 200 OK in 65ms (Views: 64.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$uHnwP0iZe0.IKnNDTzyDA.K6k508gPU68lUCXVxRNyjl/DIaGAmB2"], ["created_at", "2015-03-22 19:33:53.356254"], ["updated_at", "2015-03-22 19:33:53.356254"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$FPczXMIiPPOmCPAqs.PU9.2TFbmIcI7Ut57fBPRXlYoaVvBgo0YnO"], ["created_at", "2015-03-22 19:33:53.373029"], ["updated_at", "2015-03-22 19:33:53.373029"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (111.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$Wzobe2cp.yxflN1fKij59eM8PmqtwK9oYBQtiVcvMYidYmVPENYs2"], ["created_at", "2015-03-22 19:33:59.357439"], ["updated_at", "2015-03-22 19:33:59.357439"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$hOTEzOUKz5oAv6rohhf16OflL4b2L5REAWck5n7whYtWypT4x4.Vq"], ["created_at", "2015-03-22 19:33:59.365070"], ["updated_at", "2015-03-22 19:33:59.365070"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (11.4ms)
Completed 200 OK in 89ms (Views: 88.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (7.0ms)
Completed 400 Bad Request in 44ms (Views: 37.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (105.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (27.5ms)
Completed 200 OK in 81ms (Views: 75.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.7ms)
Completed 400 Bad Request in 45ms (Views: 29.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$TQfcaMNYDYu6kI0yOoean.AfJUPBs/YzD2ezlCcNocbooNcFHtL.i"], ["created_at", "2015-03-22 19:34:29.434998"], ["updated_at", "2015-03-22 19:34:29.434998"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$iTZ9TRrIwiRmfxGDzdaaxuMQu2iIuc6lFEhGAbT/GVGQvD.GmB0iS"], ["created_at", "2015-03-22 19:34:29.462053"], ["updated_at", "2015-03-22 19:34:29.462053"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (108.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (27.0ms)
Completed 200 OK in 129ms (Views: 119.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (8.1ms)
Completed 400 Bad Request in 64ms (Views: 44.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$FXz2YCmGRByUWymUhc6RBuyrA0A4f4og5yZ04QiYkfzquZnCTU/7C"], ["created_at", "2015-03-22 19:34:42.608020"], ["updated_at", "2015-03-22 19:34:42.608020"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$wafqSOHw.HVJMPE4uhgaMOTwrQeAAcPb1Lal.cOdAzj.5GO5HocZG"], ["created_at", "2015-03-22 19:34:42.614759"], ["updated_at", "2015-03-22 19:34:42.614759"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (113.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (140.6ms)
Completed 200 OK in 344ms (Views: 338.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 73ms (Views: 25.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
AccountControllerTest: test_should_return_not_matching_passwords
----------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 23ms (Views: 19.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$ukdzm5zU8nQubXiUqQ2NKOmIYP7iq8A6Zv5PQZabtsQ9VMwVkRuda"], ["created_at", "2015-03-23 05:41:58.983694"], ["updated_at", "2015-03-23 05:41:58.983694"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$Q0InrdmK4zvj7rKNTr7KEO4m19SmStN.EBrXEMaOsdYdRg2aJ0tXK"], ["created_at", "2015-03-23 05:41:59.008281"], ["updated_at", "2015-03-23 05:41:59.008281"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (118.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$CY1d6nKjU0YfzB93WKTId.0g/o5YZcKelucO0serONiQT0rtrGyRO"], ["created_at", "2015-03-23 05:42:37.393813"], ["updated_at", "2015-03-23 05:42:37.393813"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$OO6MwntRWcnQ/N6f/0Ik9emzkz.UH8SzZFjKkG9IosHu0mL91HILa"], ["created_at", "2015-03-23 05:42:37.417404"], ["updated_at", "2015-03-23 05:42:37.417404"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (13.1ms)
Completed 200 OK in 57ms (Views: 56.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
AccountControllerTest: test_should_return_not_matching_passwords
----------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 29ms (Views: 24.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 400 Bad Request in 24ms (Views: 20.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (105.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (24.0ms)
Completed 200 OK in 76ms (Views: 71.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 38ms (Views: 26.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
AccountControllerTest: test_should_return_not_matching_passwords
----------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 24ms (Views: 19.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$ajP/iXY4mz.JNmp1CEBQ7eSCUQf3kpbSlvzMaErYMsoyFGSQHiqdi"], ["created_at", "2015-03-23 05:42:53.681473"], ["updated_at", "2015-03-23 05:42:53.681473"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$NxigczGblT/EK2yR5aX.7eUocnLp3nJ5SW4hwxEajkzN6qnhzu.HC"], ["created_at", "2015-03-23 05:42:53.696716"], ["updated_at", "2015-03-23 05:42:53.696716"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (122.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$gJPCWhAeNOBX1U5fyk8Me.gYMSl5ugPRqOuW2.Lc/tzunqEATGC3S"], ["created_at", "2015-03-23 05:43:58.089633"], ["updated_at", "2015-03-23 05:43:58.089633"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$k5lle6OhxBv3zBFkvRKC7ONkb1v2aklfv9HB0YdRlsLjmM6JJ3oHu"], ["created_at", "2015-03-23 05:43:58.107497"], ["updated_at", "2015-03-23 05:43:58.107497"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (13.6ms)
Completed 200 OK in 67ms (Views: 66.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.1ms)
Completed 400 Bad Request in 26ms (Views: 22.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
AccountControllerTest: test_should_return_not_matching_passwords
----------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 23ms (Views: 18.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (124.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (15.8ms)
Completed 200 OK in 85ms (Views: 74.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
AccountControllerTest: test_should_return_not_matching_passwords
----------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 57ms (Views: 42.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.1ms)
Completed 400 Bad Request in 24ms (Views: 20.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$qKOEd6nALeEA8wjmzvOVwuL/tJotugAcEOBNQWnxrk9vVx/n2eJ2O"], ["created_at", "2015-03-23 05:45:06.835465"], ["updated_at", "2015-03-23 05:45:06.835465"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$oqsMedop765plS/vrIgQOOGMwyFO2WsvSgvZu607IJCU8JYnrN7DS"], ["created_at", "2015-03-23 05:45:06.851696"], ["updated_at", "2015-03-23 05:45:06.851696"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (123.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (24.9ms)
Completed 200 OK in 74ms (Views: 68.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.2ms)
Completed 400 Bad Request in 42ms (Views: 26.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
AccountControllerTest: test_should_return_not_matching_passwords
----------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 24ms (Views: 19.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$6OTJmB02J7znHWK86mo8NuClhFPs/TKYEvdcu6oknECIBXPUv4Ggq"], ["created_at", "2015-03-23 05:45:26.895826"], ["updated_at", "2015-03-23 05:45:26.895826"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$N65JGUTAGunHjivC0o0C8.4Fdn3J49evoG0W0AoFrTN4139Prae5K"], ["created_at", "2015-03-23 05:45:26.902063"], ["updated_at", "2015-03-23 05:45:26.902063"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (122.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (15.8ms)
Completed 400 Bad Request in 105ms (Views: 77.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
AccountControllerTest: test_should_return_not_matching_passwords
----------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.6ms)
Completed 400 Bad Request in 45ms (Views: 39.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.1ms)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$h8FDHzT3L.tzLN35b1ZEZODI3EH9b2EEjEpLwlwaObxCGwZefq5G2"], ["created_at", "2015-03-23 05:46:15.760457"], ["updated_at", "2015-03-23 05:46:15.760457"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$6eS3Qe.reQb1xDyMuauBhOvUm6wcbYXCcVuBYOLbiDXry3nalKaZ."], ["created_at", "2015-03-23 05:46:15.770366"], ["updated_at", "2015-03-23 05:46:15.770366"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (122.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$0W6Z/wBtUI/urvexgZQIbuWeaGDNFN5dndfbilYhltol.93CgDz8S"], ["created_at", "2015-03-23 05:46:43.708569"], ["updated_at", "2015-03-23 05:46:43.708569"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$FRt6d9kvSEQKWLvFbMh/O.ecanl.QFxW.WCbrnp1933imx4ybxMk."], ["created_at", "2015-03-23 05:46:43.729792"], ["updated_at", "2015-03-23 05:46:43.729792"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (19.3ms)
Completed 200 OK in 76ms (Views: 75.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (5.3ms)
Completed 400 Bad Request in 40ms (Views: 35.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
AccountControllerTest: test_should_return_not_matching_passwords
----------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.7ms)
Completed 400 Bad Request in 35ms (Views: 30.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (112.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (21.6ms)
Completed 200 OK in 88ms (Views: 80.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 35ms (Views: 20.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$1N/oG3iN.eWrBnrmAOfs8e6NyKFiB7nReoDjzS3JicNzM7.PBLmS."], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 05:49:21.250452"], ["updated_at", "2015-03-23 05:49:21.250452"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.1ms)
Completed 200 OK in 29ms (Views: 24.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 26ms (Views: 21.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$LtjKAMddJ8Xr7hNRm0zl2eMp9c.JKu8/J0yM3QMFCmUuvIgmo5QJu"], ["created_at", "2015-03-23 05:49:21.310334"], ["updated_at", "2015-03-23 05:49:21.310334"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$roXk02EdgwmejlvW6yAU2.ecdHFsDTKXosa42tSbxrLvNlX6cdp1q"], ["created_at", "2015-03-23 05:49:21.326869"], ["updated_at", "2015-03-23 05:49:21.326869"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (118.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$e0lE0lwRQnHFN4uIvcTMcer.6GMbjc5dRdtLQ47wajkvnIAKc6l/O"], ["created_at", "2015-03-23 05:49:43.803342"], ["updated_at", "2015-03-23 05:49:43.803342"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$fBfQkZ0sKUaK/iA2q/cjPumowE9qnqGUxvI7KpEgyYf/gMopltOIy"], ["created_at", "2015-03-23 05:49:43.809828"], ["updated_at", "2015-03-23 05:49:43.809828"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (13.4ms)
Completed 400 Bad Request in 61ms (Views: 56.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (1.9ms)
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 400 Bad Request in 25ms (Views: 20.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$1Ele5APKQWKdcYBoFQoP7eDEB/F4ZjVrL6yb7I.e6GUJrF4bN4XnG"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 05:49:43.944308"], ["updated_at", "2015-03-23 05:49:43.944308"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.1ms)
Completed 200 OK in 23ms (Views: 18.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (110.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$sdVA3kvqo.fiu1uXKxzbzegBIVqRsSeagkBcyFS/1pDla25ZuexWC"], ["created_at", "2015-03-23 06:02:32.791137"], ["updated_at", "2015-03-23 06:02:32.791137"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$wJNVSlYF3JWpD6LAMALJp.w5Kc3.UFoRZWV38EbGsPFm.4lP6uZ8S"], ["created_at", "2015-03-23 06:02:32.797750"], ["updated_at", "2015-03-23 06:02:32.797750"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$dItdUYYVwI0jLIoEvfCJd.XjSh4kyxPkatzxwJGKnhzeIxlQdire2"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:02:32.863336"], ["updated_at", "2015-03-23 06:02:32.863336"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (61.7ms)
Completed 200 OK in 247ms (Views: 236.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.2ms)
Completed 400 Bad Request in 31ms (Views: 27.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 24ms (Views: 20.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.1ms)
Completed 200 OK in 19ms (Views: 18.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$NFZq0re8vG0WJ4qAPbhRyut4HPlNe/0j6iN9Arnk7wtXCut88Asfu"], ["created_at", "2015-03-23 06:02:33.188641"], ["updated_at", "2015-03-23 06:02:33.188641"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 28ms (Views: 23.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (116.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$Zi3GufL.RTw.0cpoYw06Ku67Aa5LZXJy3L8pLpjVJ/ox9y49L1ToG"], ["created_at", "2015-03-23 06:04:07.983326"], ["updated_at", "2015-03-23 06:04:07.983326"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$5HJiGB8ocpBeQ1RV/ptVQO0hDZx5z7FoCZFiTvOnQ2G3AOKcgMfdO"], ["created_at", "2015-03-23 06:04:07.990030"], ["updated_at", "2015-03-23 06:04:07.990030"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (10.1ms)
Completed 200 OK in 58ms (Views: 57.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$PTru8HyLM2nSGfwVVlN4iulRxQSe.oMyYwOSzFjDqfXPzzFUmwzDC"], ["created_at", "2015-03-23 06:04:08.076619"], ["updated_at", "2015-03-23 06:04:08.076619"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 29ms (Views: 24.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 400 Bad Request in 26ms (Views: 21.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.8ms)
Completed 400 Bad Request in 25ms (Views: 20.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$fwKx19jd77Dz.Fv8Ac4lwurDIUAI7H9eLF2j/IXVJ1qCH/OPpm2cC"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:04:08.168575"], ["updated_at", "2015-03-23 06:04:08.168575"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 28ms (Views: 24.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (113.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$NKWqo9N/fIpD26iCgCxDUuCWH/1BQ64SPorryqgVHxJ2c9TOwtDYO"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:04:54.223063"], ["updated_at", "2015-03-23 06:04:54.223063"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (17.1ms)
Completed 200 OK in 89ms (Views: 60.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$iYG9tF1kmlWp7TLIGwXuberXER16l6wCRupxuJv.7YA5bpB3sWt7e"], ["created_at", "2015-03-23 06:04:54.289716"], ["updated_at", "2015-03-23 06:04:54.289716"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.0ms)
Completed 400 Bad Request in 29ms (Views: 25.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 25ms (Views: 20.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (1.9ms)
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.2ms)
Completed 400 Bad Request in 30ms (Views: 25.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$MO2OLzpaxikBFPNSrOgEIeQNg5oN7IPRSJglmDP3orh04FJph1joe"], ["created_at", "2015-03-23 06:04:54.409586"], ["updated_at", "2015-03-23 06:04:54.409586"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$7nXndw/TahWK6XKZfqWAzu3wYnzYWNFlEPRUsb10dpVRTjZbnlCVK"], ["created_at", "2015-03-23 06:04:54.432783"], ["updated_at", "2015-03-23 06:04:54.432783"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (120.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (24.0ms)
Completed 200 OK in 77ms (Views: 71.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$z7mAtJkePucBqMCLb7PM/.Ev0.mIACOaVvDOyuxdgdJYsr99AoK3."], ["created_at", "2015-03-23 06:05:38.110002"], ["updated_at", "2015-03-23 06:05:38.110002"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 29ms (Views: 25.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 400 Bad Request in 25ms (Views: 21.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.3ms)
Completed 400 Bad Request in 24ms (Views: 20.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$bP27FfKHry/g5sgNc74yteC9CzwqLIKzbzWhq81ZMgcS8LaJWqS0G"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:05:38.203563"], ["updated_at", "2015-03-23 06:05:38.203563"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 28ms (Views: 23.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$OM55k93/XcH7k5Az1y4z3.BJTeASfq/YHFxPCrh5x2/f.yh6/OG9u"], ["created_at", "2015-03-23 06:05:38.239296"], ["updated_at", "2015-03-23 06:05:38.239296"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$0Pf/D2qO.NmXLpHHWieDaO6bNFuryv2v3dO6ykmIPbPZitRBnz6bO"], ["created_at", "2015-03-23 06:05:38.250925"], ["updated_at", "2015-03-23 06:05:38.250925"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (108.7ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (102.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (114.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (124.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150322111417')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (133.8ms)[0m  [1mCREATE TABLE "contacts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "phone_number" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (107.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (117.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (115.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (116.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150323060929')[0m
  [1m[35m (117.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150322111417')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "contacts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:14:29', '2015-03-23 06:14:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:14:29', '2015-03-23 06:14:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (96.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (11.4ms)
Completed 400 Bad Request in 85ms (Views: 57.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (1.9ms)
Completed 200 OK in 25ms (Views: 24.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 24ms (Views: 19.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$/h/wNRBo0D8KwKTqGRvMBO/v/UvWNpLvxoUDysFukcA4Wblz/VQVS"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:14:29.781159"], ["updated_at", "2015-03-23 06:14:29.781159"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 31ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$ozwFBOtllN2XP.B5Fd7fa.Bew589pAN3WXUOwWoCJ.Iv/PPvAwYta"], ["created_at", "2015-03-23 06:14:29.812893"], ["updated_at", "2015-03-23 06:14:29.812893"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 23ms (Views: 19.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$4Im6fyNDQJbX3nMEmbtJPu5KvRfLn8EiEFtWOWTMXnIkdXp0E/A5m"], ["created_at", "2015-03-23 06:14:29.855330"], ["updated_at", "2015-03-23 06:14:29.855330"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$8skezSJZj4CY/VOqLrsGfurlgQ8bYARuPVXm3ORWv6I35jD4vYx.i"], ["created_at", "2015-03-23 06:14:29.861265"], ["updated_at", "2015-03-23 06:14:29.861265"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:15:08', '2015-03-23 06:15:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:15:08', '2015-03-23 06:15:08', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (113.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$JUl8TpcgopUhz2LcCkO2ou9qFasDuIMXEZL0Tbt.z9o15AUX7O.c2"], ["created_at", "2015-03-23 06:15:08.999393"], ["updated_at", "2015-03-23 06:15:08.999393"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$CAl4ZGRlESefPIDjPT3P7eyh4iMWY.HsxMoeRhCB7sWy1gmX9PiN2"], ["created_at", "2015-03-23 06:15:09.016118"], ["updated_at", "2015-03-23 06:15:09.016118"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$5s0xp57ys1cqgGJQMCozNe5lTTcOPYelTUtXe5Z1eQ4yMGY0eLOmq"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:15:09.034457"], ["updated_at", "2015-03-23 06:15:09.034457"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered account/form.html.erb within layouts/application (10.2ms)
Completed 200 OK in 80ms (Views: 75.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$OgaQjg3.nndNM5U9szOLk.GEoNN9Cp.PWGCuh904.ghzFqRWcEmMe"], ["created_at", "2015-03-23 06:15:09.115839"], ["updated_at", "2015-03-23 06:15:09.115839"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.4ms)
Completed 400 Bad Request in 31ms (Views: 26.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (1.9ms)
Completed 200 OK in 20ms (Views: 19.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 24ms (Views: 19.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 29ms (Views: 24.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:15:22', '2015-03-23 06:15:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:15:22', '2015-03-23 06:15:22', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (107.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$jMwuLVc4CBXKgzjUS0xWouepN34XGsxENa0ogkcQCfLlgevaVR70C"], ["created_at", "2015-03-23 06:15:22.730073"], ["updated_at", "2015-03-23 06:15:22.730073"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$OG32jY8YrjMZB9lMDbLhx.maUvEyj1vzChZrisjjc7pnp3nYFW.NC"], ["created_at", "2015-03-23 06:15:22.741046"], ["updated_at", "2015-03-23 06:15:22.741046"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$bN0UvAZZoeTB20trzez8yus.K91cj71EuxvhkZbb3MMYGsNLtC5im"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:15:22.769845"], ["updated_at", "2015-03-23 06:15:22.769845"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to 
Completed 500 Internal Server Error in 7ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$Q.yoMedwM2ah2z9Q2S3JnOranZStTfSEWL1WZDuvW0MsTHqNHs1pG"], ["created_at", "2015-03-23 06:15:22.777142"], ["updated_at", "2015-03-23 06:15:22.777142"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (13.6ms)
Completed 400 Bad Request in 63ms (Views: 59.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (6.5ms)
Completed 200 OK in 25ms (Views: 24.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.8ms)
Completed 400 Bad Request in 26ms (Views: 22.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 25ms (Views: 20.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:15:59', '2015-03-23 06:15:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:15:59', '2015-03-23 06:15:59', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (117.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (11.6ms)
Completed 400 Bad Request in 89ms (Views: 58.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$StozM.t6jHFyb0YY/FkkkOXHOCkJWw9gnKxkpKM1hTie.OG5cXZRO"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:15:59.780108"], ["updated_at", "2015-03-23 06:15:59.780108"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to 
Completed 500 Internal Server Error in 7ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 29ms (Views: 24.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$U2rQtxwlqublY4qXQE5.wOBVYMdfuu.6UDmztMkkRS4URucH1WaLm"], ["created_at", "2015-03-23 06:15:59.819657"], ["updated_at", "2015-03-23 06:15:59.819657"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 24ms (Views: 19.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (1.9ms)
Completed 200 OK in 20ms (Views: 19.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$cWzcxrKZeF76TUjNqBwkJOyeIHmBlV8cVjrugLrEbhYqiqyNjFEk6"], ["created_at", "2015-03-23 06:15:59.879704"], ["updated_at", "2015-03-23 06:15:59.879704"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$UktSIjDTtTUIoLv63rCPP.V0DLf4divSw2SgGAU38Ng3rkawgPfri"], ["created_at", "2015-03-23 06:15:59.885914"], ["updated_at", "2015-03-23 06:15:59.885914"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:16:16', '2015-03-23 06:16:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:16:16', '2015-03-23 06:16:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (106.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (15.7ms)
Completed 400 Bad Request in 100ms (Views: 79.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (3.0ms)
Completed 200 OK in 37ms (Views: 37.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$bCQRkfQPCQ/U7JFJ2IO6heosqxs0APZPwjphX9mqhWgYPoBrza9wu"], ["created_at", "2015-03-23 06:16:16.493585"], ["updated_at", "2015-03-23 06:16:16.493585"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 24ms (Views: 19.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$aYwhtAuMfS3EPwjoZfKGh.wwtsogIxQwJkEnqZSIsCNRg.f/QBid."], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:16:16.525178"], ["updated_at", "2015-03-23 06:16:16.525178"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to 
Completed 500 Internal Server Error in 7ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 24ms (Views: 19.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$xwNd2nVJoBKxsyrrWaxiYuHRkK9JtlPSO0tGrqJASgBWWyUaM4Vwq"], ["created_at", "2015-03-23 06:16:16.563388"], ["updated_at", "2015-03-23 06:16:16.563388"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$QvkOHfAR5djBWVve7DRZTu1qKf1Cr6KVRgKZwA1Ue4Cn0G0wdkYqm"], ["created_at", "2015-03-23 06:16:16.574618"], ["updated_at", "2015-03-23 06:16:16.574618"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:16:46', '2015-03-23 06:16:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:16:46', '2015-03-23 06:16:46', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (116.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$ksz0pAhxbxt5Plqzz3huTOuisr2awMbsW/yjZsGf1vWiYwZgndvSi"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:16:46.182052"], ["updated_at", "2015-03-23 06:16:46.182052"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to login
Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$HIHlEM9hDY2t2nqouKUrnuQvy0jm/5QdJSRUHZ1awdun7x.Y8XGQC"], ["created_at", "2015-03-23 06:16:46.187574"], ["updated_at", "2015-03-23 06:16:46.187574"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (14.9ms)
Completed 400 Bad Request in 88ms (Views: 79.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 40ms (Views: 35.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 200 OK in 28ms (Views: 28.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (3.9ms)
Completed 400 Bad Request in 25ms (Views: 21.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$mA0O3ko1KjUwPPiGc/vbGOOsM/n.wTw0nePdoIamn13/ixpC8WjIC"], ["created_at", "2015-03-23 06:16:46.399606"], ["updated_at", "2015-03-23 06:16:46.399606"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$mieosD5LgeccgT1gOAzhs.WL0Tba2uzKdkxdSBoMCO0fnZuuLoewi"], ["created_at", "2015-03-23 06:16:46.405637"], ["updated_at", "2015-03-23 06:16:46.405637"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:16:55', '2015-03-23 06:16:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:16:55', '2015-03-23 06:16:55', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (109.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$8JyDfIF.dVnG.vtuj4t/DOJIZP4wgvnxZAoFWtQzM.XYuTOMZLg8i"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:16:55.670005"], ["updated_at", "2015-03-23 06:16:55.670005"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to login
Completed 302 Found in 25ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (16.9ms)
Completed 200 OK in 61ms (Views: 60.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$pT2.mThtoLVU0cQWJBpcUuaOyHNvvN.aGMoblZZHN0hLhZXhAzoCq"], ["created_at", "2015-03-23 06:16:55.738265"], ["updated_at", "2015-03-23 06:16:55.738265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 29ms (Views: 25.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 400 Bad Request in 25ms (Views: 21.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 24ms (Views: 19.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$3EBrJwMF1D7CzN8fqbFs1uzL0xROr71AwJlY30cwY49ap.DRXAA0W"], ["created_at", "2015-03-23 06:16:55.829290"], ["updated_at", "2015-03-23 06:16:55.829290"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$mAPZOvMU1SmJWISrX9SFE.sFIr8mlHUhbvcHoVE1zUbXIVNcChVva"], ["created_at", "2015-03-23 06:16:55.834665"], ["updated_at", "2015-03-23 06:16:55.834665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:19:07', '2015-03-23 06:19:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:19:07', '2015-03-23 06:19:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (112.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$GZVaMjmZRT3m1P/wcPrLX.RN.Pl05vve1xUhbMQWyOULU3KBSpa3K"], ["created_at", "2015-03-23 06:19:07.463269"], ["updated_at", "2015-03-23 06:19:07.463269"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$nJUWGQNnOoOgvFL5l4UQK.9vsBOrQdyrb4KpWElbHo2TdpRKd7q6W"], ["created_at", "2015-03-23 06:19:07.473418"], ["updated_at", "2015-03-23 06:19:07.473418"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (9.7ms)
Completed 200 OK in 57ms (Views: 56.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$3fGlae3GjlvZ7yLtN.q1tODRkuV3sax9hpHOv5I5e.vdllxgyrqb6"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:19:07.556867"], ["updated_at", "2015-03-23 06:19:07.556867"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$0agRCcRQXrPdI1PgKKC2m.SGCAQECYFZqxM8gI7awj4rCkntyY0v6"], ["created_at", "2015-03-23 06:19:07.563227"], ["updated_at", "2015-03-23 06:19:07.563227"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (6.9ms)
Completed 400 Bad Request in 28ms (Views: 24.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 24ms (Views: 19.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 400 Bad Request in 25ms (Views: 21.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:20:53', '2015-03-23 06:20:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:20:53', '2015-03-23 06:20:53', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (110.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (19.9ms)
Completed 200 OK in 81ms (Views: 75.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (4.1ms)
Redirected to 
Completed 500 Internal Server Error in 61ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$hF2niajmn4N4Uivx8mgMEejAt7lQXatt6o7KgeBcW8uY1qRgx.pw6"], ["created_at", "2015-03-23 06:20:53.454858"], ["updated_at", "2015-03-23 06:20:53.454858"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.8ms)
Completed 400 Bad Request in 26ms (Views: 21.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 27ms (Views: 22.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$JgsswdA2jckh1jjYfBXqKuZcsJbgSlHufYFXYhuDSfsyHNjIKd/gS"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:20:53.520076"], ["updated_at", "2015-03-23 06:20:53.520076"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.8ms)
Completed 400 Bad Request in 32ms (Views: 27.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$z56Cx7Xe6zERqKoJgk37Me6Bj9YB4G4c5Qg5SJ75AOEBOBpFqqptm"], ["created_at", "2015-03-23 06:20:53.574603"], ["updated_at", "2015-03-23 06:20:53.574603"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$.40fZrO7znd1nRxoVFAfauKB2wn1zaJyzelG9WLADd9JdXf0xshlO"], ["created_at", "2015-03-23 06:20:53.586551"], ["updated_at", "2015-03-23 06:20:53.586551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:21:38', '2015-03-23 06:21:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:21:38', '2015-03-23 06:21:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (121.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (10.2ms)
Completed 400 Bad Request in 88ms (Views: 57.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.6ms)
Completed 400 Bad Request in 31ms (Views: 26.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$8HElwVkOXE6wbXtP5U.fN.nhQFUCwFbC11Fwk0Ibzo6NmlyoH/O1K"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:21:39.050630"], ["updated_at", "2015-03-23 06:21:39.050630"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 25ms (Views: 21.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$qQvvrhCnAHw0vN3yVAiRau7Lhk8UVYBXJqEKOgQ3DP6.qt1K9GTja"], ["created_at", "2015-03-23 06:21:39.085230"], ["updated_at", "2015-03-23 06:21:39.085230"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.8ms)
Completed 400 Bad Request in 25ms (Views: 21.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (1.9ms)
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$I/z92B3EAiOKDE7M8nbLieq0gPehZyD5UzYRsnt2xglB4Dm73RBaO"], ["created_at", "2015-03-23 06:21:39.148751"], ["updated_at", "2015-03-23 06:21:39.148751"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$QywqUfX9.I9IkEJV3XRVwu/sfNLyDHSW8xJuIFCX7cXLJGIJjnFtS"], ["created_at", "2015-03-23 06:21:39.154822"], ["updated_at", "2015-03-23 06:21:39.154822"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:22:14', '2015-03-23 06:22:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:22:14', '2015-03-23 06:22:14', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (122.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (11.6ms)
Completed 400 Bad Request in 86ms (Views: 57.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.8ms)
Completed 400 Bad Request in 31ms (Views: 26.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 19ms (Views: 18.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$V3Z777cIyepNVOa8NTaZg.PPWQ1xM5T6qVKx6sfe8BRIOPa5UEtay"], ["created_at", "2015-03-23 06:22:14.479884"], ["updated_at", "2015-03-23 06:22:14.479884"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 23ms (Views: 18.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$ZiZjNNlamX4J36punpcv3upanlNJbECZ08/MuMyuKSl7CsKII45bu"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:22:14.511852"], ["updated_at", "2015-03-23 06:22:14.511852"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 29ms (Views: 24.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$7EuCr/rp5gSUhub.TvLjReewrT0SyrvcUnlxMmyzpg5TAl3MxyQua"], ["created_at", "2015-03-23 06:22:14.572953"], ["updated_at", "2015-03-23 06:22:14.572953"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$UxV.hl0w7LqMvnMDlT5Yf.IQ30gALm9Ddm0A3RtrVW8iLxKOsgWX2"], ["created_at", "2015-03-23 06:22:14.578686"], ["updated_at", "2015-03-23 06:22:14.578686"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:23:00', '2015-03-23 06:23:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:23:00', '2015-03-23 06:23:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (120.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$oRJXKYmoKmBpuSrXKF4QtO4YBk7zI/8z52bA1iyWCo/DNNLxHRL7y"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:23:00.538007"], ["updated_at", "2015-03-23 06:23:00.538007"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (16.3ms)
Completed 400 Bad Request in 91ms (Views: 82.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 39ms (Views: 33.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$cl0bYYXcQ7xyac3LkHYfzeKm.lPQr6EvNnv6klZGL/gXV5F/iOAvS"], ["created_at", "2015-03-23 06:23:00.681596"], ["updated_at", "2015-03-23 06:23:00.681596"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 24ms (Views: 20.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.5ms)
Completed 400 Bad Request in 26ms (Views: 21.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.0ms)
Completed 200 OK in 25ms (Views: 24.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 19ms (Views: 18.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$2n1lV4430DnEuPIPP/AiLeoZlI0ljqAVc/jvocf/HM5o2oWg7F5uu"], ["created_at", "2015-03-23 06:23:00.788609"], ["updated_at", "2015-03-23 06:23:00.788609"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$/FvgoJkfbIhlESXc/4.Cne2wi4khxmvUmW6GJNurGT6C.R2kS4szO"], ["created_at", "2015-03-23 06:23:00.804027"], ["updated_at", "2015-03-23 06:23:00.804027"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:24:19', '2015-03-23 06:24:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:24:19', '2015-03-23 06:24:19', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (121.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (13.6ms)
Completed 400 Bad Request in 72ms (Views: 65.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$n.U3Mxg/G1XgWE2YbvxGwOHn64N8twgPusHlc4hL6FYbUCvupE4uq"], ["created_at", "2015-03-23 06:24:20.228939"], ["updated_at", "2015-03-23 06:24:20.228939"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.2ms)
Completed 400 Bad Request in 32ms (Views: 26.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$fq.3pr7u.sfbedCaHGDzmui/vjhze6CU/NKNJZ3Fs/kJH/TTXFuyW"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:24:20.271835"], ["updated_at", "2015-03-23 06:24:20.271835"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (1.9ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.6ms)
Completed 400 Bad Request in 26ms (Views: 21.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.0ms)
Completed 200 OK in 24ms (Views: 24.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$/OmJ8PP.bqn3983OGU/xS.mszmva3rS.r1DiIIdeNsLbPrVK2tapq"], ["created_at", "2015-03-23 06:24:20.352261"], ["updated_at", "2015-03-23 06:24:20.352261"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 24ms (Views: 19.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$YlUme32aHHkkTr3NXSAsoulDlQ16qXGPjEfHXegUBbZlspOHt3xdS"], ["created_at", "2015-03-23 06:24:20.389195"], ["updated_at", "2015-03-23 06:24:20.389195"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$oGxX.Q9d4l41VUZF6/y/meTUOWRK6ZHw1/4sukZjHCYFpLv62JXEC"], ["created_at", "2015-03-23 06:24:20.409341"], ["updated_at", "2015-03-23 06:24:20.409341"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:25:17', '2015-03-23 06:25:17', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:25:17', '2015-03-23 06:25:17', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (145.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (12.6ms)
Completed 400 Bad Request in 89ms (Views: 60.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.6ms)
Completed 400 Bad Request in 32ms (Views: 27.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 19ms (Views: 19.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$IrGqLuTfUD6Bvf.HTvV79.ObLgDL0HfgJJ93WdBgQm07z3hksMQE2"], ["created_at", "2015-03-23 06:25:18.046695"], ["updated_at", "2015-03-23 06:25:18.046695"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$tP1jeObKnYTCwdJe3Hwn6uZfyM9v9mE64JRLO//ZVqa7v12Uw9Ec."], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:25:18.055150"], ["updated_at", "2015-03-23 06:25:18.055150"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.0ms)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.8ms)
Completed 400 Bad Request in 29ms (Views: 24.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$NiEuQaSUH0sdZaBdTbBcnObztnJlGeHyVaNMigWvJWjs3i/Ttwbyy"], ["created_at", "2015-03-23 06:25:18.115928"], ["updated_at", "2015-03-23 06:25:18.115928"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$dy3wHIGoCqfaBy/ZcOQgm.deVbx1/1yjQpKFj67wCUALIhD7YkW6."], ["created_at", "2015-03-23 06:25:18.122590"], ["updated_at", "2015-03-23 06:25:18.122590"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.3ms)
Completed 400 Bad Request in 24ms (Views: 20.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$ZTtiRDeN4tkCY/NEU3KbAuBS82KbRKuHibd1KmBpFLKb.2LWkGu4W"], ["created_at", "2015-03-23 06:25:18.170412"], ["updated_at", "2015-03-23 06:25:18.170412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$EFibdE3jdTi7N2wzZYzShOOKniYHWHw.0aZfu2dWjgBwAqLl1HrcG"], ["created_at", "2015-03-23 06:25:18.176731"], ["updated_at", "2015-03-23 06:25:18.176731"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:26:30', '2015-03-23 06:26:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-03-23 06:26:30', '2015-03-23 06:26:30', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (126.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$.uDuuH5qHCTQaru0QxcUs.km/DjVCLv/swWngYYyivR2koUose53q"], ["created_at", "2015-03-23 06:26:30.276485"], ["updated_at", "2015-03-23 06:26:30.276485"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (13.2ms)
Completed 200 OK in 60ms (Views: 59.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$zMVDOGcYkVTRC3Cov7IBiOWN14l/Mk8kQrYqvN/fyo/x2Hmhvz4P6"], ["created_at", "2015-03-23 06:26:30.352008"], ["updated_at", "2015-03-23 06:26:30.352008"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 27ms (Views: 24.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (3.8ms)
Completed 400 Bad Request in 26ms (Views: 21.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$90KAjqO7qjlU61b4sWRADeGb2JnKrt90K4cJPDDVrTJlOZHurR1Z6"], ["created_at", "2015-03-23 06:26:30.412859"], ["updated_at", "2015-03-23 06:26:30.412859"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 24ms (Views: 20.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.1ms)
Completed 400 Bad Request in 29ms (Views: 24.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.0ms)
Completed 400 Bad Request in 20ms (Views: 19.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.1ms)
Completed 200 OK in 19ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$6lUNORXvoiUYE5ijfUnzXe11kFtqVbNKYGRJ7QnZFbqE9oONWWeIm"], ["email", "dummy@dummy.com"], ["created_at", "2015-03-23 06:26:30.518936"], ["updated_at", "2015-03-23 06:26:30.518936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$lyuem2ePAakDL/f078151elcan4eF3JgBQEGxkMhXGOpz7zCPbinG"], ["created_at", "2015-03-23 06:26:30.525402"], ["updated_at", "2015-03-23 06:26:30.525402"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$CViFERBAbz54dAcEgWCkAeuk3e9LoNDzewTiA7quo6z/6eoZu74PO"], ["created_at", "2015-03-23 06:26:30.545935"], ["updated_at", "2015-03-23 06:26:30.545935"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (112.3ms)[0m  [1mCREATE TABLE "contacts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "phone_number" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "users_id" integer) [0m
  [1m[35m (183.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (120.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (124.5ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (132.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150411175031')[0m
  [1m[35m (117.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150323060929')
  [1m[36m (142.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150322111417')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "contacts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-11 18:02:41', '2015-04-11 18:02:41', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-11 18:02:41', '2015-04-11 18:02:41', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (104.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$Ztigd6y526Et9FRnvi4nDeFxxEWBaB9qYJtcMjEglS8hNgP26Ow8e"], ["created_at", "2015-04-11 18:02:41.437248"], ["updated_at", "2015-04-11 18:02:41.437248"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$2OKPhR7za6qLhGUGnQCaUeyRTyfKGN9div5BAQVcHV/CP8ratYTx6"], ["created_at", "2015-04-11 18:02:41.449156"], ["updated_at", "2015-04-11 18:02:41.449156"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (17.7ms)
Completed 200 OK in 182ms (Views: 182.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (7.2ms)
Completed 400 Bad Request in 46ms (Views: 39.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$VnbF0rSKKu38mO4VNkFeHufx3lUWTOBj5siKdtnh.l.zCcWfXRPyW"], ["created_at", "2015-04-11 18:02:41.717333"], ["updated_at", "2015-04-11 18:02:41.717333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.4ms)
Completed 400 Bad Request in 38ms (Views: 32.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$DT4RViLKQV0AsC0mCrc3q.Ehg0PrwQqrGGo3VzH27RtRL8TB6aum2"], ["created_at", "2015-04-11 18:02:41.763845"], ["updated_at", "2015-04-11 18:02:41.763845"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.5ms)
Completed 400 Bad Request in 27ms (Views: 21.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 20ms (Views: 19.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$HI5SSWtuhdc3PsGD5L39PuZwfe2hj4T/GItSSaIFIBz8b/CZSF75u"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-11 18:02:41.820991"], ["updated_at", "2015-04-11 18:02:41.820991"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.3ms)
Completed 400 Bad Request in 26ms (Views: 25.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$gRewApTGFaMJAK1P12.kEeOXQjEjKkXy8DK.iagNcVDuX/YQvJ/.u"], ["created_at", "2015-04-11 18:02:41.855488"], ["updated_at", "2015-04-11 18:02:41.855488"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (3.0ms)
Completed 400 Bad Request in 26ms (Views: 21.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-11 18:11:57', '2015-04-11 18:11:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-11 18:11:57', '2015-04-11 18:11:57', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (102.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$d9JaLcVY039Pd1yuyu.4ie2E0iAYLHvyX7dDKEAYbWEkEhI3u56.q"], ["created_at", "2015-04-11 18:11:57.915454"], ["updated_at", "2015-04-11 18:11:57.915454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$uvr4A5EtdnugPQrSYQEAHeulghT8vYf6NiPi6Dd6xsjw4Vedj6SSC"], ["created_at", "2015-04-11 18:11:57.921539"], ["updated_at", "2015-04-11 18:11:57.921539"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$wynz4jiBrnblCGVrWKZHE./xXw4KCnL3c6kJ7MoFRKEzLgvSDF1Yu"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-11 18:11:57.954659"], ["updated_at", "2015-04-11 18:11:57.954659"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (11.4ms)
Completed 400 Bad Request in 85ms (Views: 80.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$PIGVYfwPkIWGSokat82.fuPq9MwE.rDfSHFig9Ok0NROMHsTLQGYu"], ["created_at", "2015-04-11 18:11:58.050315"], ["updated_at", "2015-04-11 18:11:58.050315"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 8ms (ActiveRecord: 0.2ms)
Processing by AccountController#logout as HTML
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (5.9ms)
Completed 400 Bad Request in 58ms (Views: 52.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$NkAo11bhBLiyiU/1sMhpsexXMJi4eFyytdKMwVWo6qlum5.fXataa"], ["created_at", "2015-04-11 18:11:58.130578"], ["updated_at", "2015-04-11 18:11:58.130578"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 25ms (Views: 20.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.7ms)
Completed 400 Bad Request in 23ms (Views: 22.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.2ms)
Completed 200 OK in 29ms (Views: 28.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$dhWBaYXkrr3eJz4ZoGlSKOb4GtLEsqM5GPvVmaLUuowK6mKFSY/pW"], ["created_at", "2015-04-11 18:11:58.218552"], ["updated_at", "2015-04-11 18:11:58.218552"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (3.8ms)
Completed 200 OK in 23ms (Views: 22.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$8sspvDfQv9JsuH00Huo2JehiQINSDlePkDLHDimrnKWgy28VQy1Pm"], ["created_at", "2015-04-11 18:11:58.251556"], ["updated_at", "2015-04-11 18:11:58.251556"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 23ms (Views: 21.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-11 18:12:39', '2015-04-11 18:12:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-11 18:12:39', '2015-04-11 18:12:39', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (99.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$81bGovMPoN6WyR3iOkF3yOMQjj8dbn8CWqgFgNCOcGsyr3j48YG.m"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-11 18:12:39.409965"], ["updated_at", "2015-04-11 18:12:39.409965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 18ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$/3/9gKvqQUdRTurpOP7r/.KvSe56WLHhy.thcfVLWF2sH8amiDgrC"], ["created_at", "2015-04-11 18:12:39.417470"], ["updated_at", "2015-04-11 18:12:39.417470"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
Processing by AccountController#logout as HTML
Redirected to http://test.hostlogin
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$ADHI.IU/aLNtz9M0iSttwOTP/GNKif8n1yPXGYv5EnCoVv/2UzFhS"], ["created_at", "2015-04-11 18:12:39.434831"], ["updated_at", "2015-04-11 18:12:39.434831"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (22.1ms)
Completed 400 Bad Request in 95ms (Views: 85.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$5tUE3LDMHU9WkjYkw8n5sOndiNCBcfk9o5kCvSO4Z5xCzlRxnXHWC"], ["created_at", "2015-04-11 18:12:39.544055"], ["updated_at", "2015-04-11 18:12:39.544055"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.4ms)
Completed 400 Bad Request in 43ms (Views: 37.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (6.7ms)
Completed 400 Bad Request in 36ms (Views: 35.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 200 OK in 21ms (Views: 21.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 200 OK in 21ms (Views: 20.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 32ms (Views: 26.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$w8yi6EC3DbUKkOwNMNFY1.R8puqc1X18izX13NOAO8IsyzoYfkR/K"], ["created_at", "2015-04-11 18:12:39.714021"], ["updated_at", "2015-04-11 18:12:39.714021"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.7ms)
Completed 400 Bad Request in 24ms (Views: 22.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$eXTCRTTZb4cQk.FnTZX8Ne.g1mlaMacq8DcVYGhJbMvLmLvORPnWu"], ["created_at", "2015-04-11 18:12:39.752878"], ["updated_at", "2015-04-11 18:12:39.752878"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$k3lJfgpxlN4pqMClCEpLQOeIKABV1DNO6gKJiw3GPNuOeKRk2iqci"], ["created_at", "2015-04-11 18:12:39.773620"], ["updated_at", "2015-04-11 18:12:39.773620"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-11 18:31:28', '2015-04-11 18:31:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-11 18:31:28', '2015-04-11 18:31:28', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (104.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$OKzJL0KuLWKTk1QB3Q7TtutqGld/54mGDlszj4mUnYqvloueD.I8q"], ["created_at", "2015-04-11 18:31:28.202254"], ["updated_at", "2015-04-11 18:31:28.202254"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$qCA8duuPyngxahX7WFaqO.Uhp8PvlQ0/40VOVTftsxJUAsLojgsWW"], ["created_at", "2015-04-11 18:31:28.216486"], ["updated_at", "2015-04-11 18:31:28.216486"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (15.9ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$UwA3cCCFA/EdDShZPhJSv./5e6pz7lt/QWBfMlYWk7EixunDlshxW"], ["created_at", "2015-04-11 18:31:28.263287"], ["updated_at", "2015-04-11 18:31:28.263287"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (12.1ms)
Completed 400 Bad Request in 88ms (Views: 81.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (7.7ms)
Completed 400 Bad Request in 54ms (Views: 49.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$MYurDJGSq3ZUNMs4saUcG.QVl9Rqn7LE8vqkFE9bVTyzEjY9gUktK"], ["created_at", "2015-04-11 18:31:28.438751"], ["updated_at", "2015-04-11 18:31:28.438751"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (3.9ms)
Completed 400 Bad Request in 28ms (Views: 23.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.2ms)
Completed 200 OK in 21ms (Views: 20.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.5ms)
Completed 200 OK in 22ms (Views: 22.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 25ms (Views: 20.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$VV/IPatGGUIu2bBpTCij2.xFvk4UMTR0pxDs2qJFzfc7sbvvjz6fa"], ["created_at", "2015-04-11 18:31:28.554213"], ["updated_at", "2015-04-11 18:31:28.554213"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$QbUw8iBK2K8tcTxtlMzdCONVKluwOYNDVdMAD.3zmceyrBoymKDPK"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-11 18:31:28.565398"], ["updated_at", "2015-04-11 18:31:28.565398"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.5ms)
Completed 400 Bad Request in 23ms (Views: 22.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$E2iusJ5boBKX/jyK6tfamuP0755.OH8ZEkzcc4x.j.dM6hc/Oj9/y"], ["created_at", "2015-04-11 18:31:28.596838"], ["updated_at", "2015-04-11 18:31:28.596838"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contact
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Processing by AccountController#logout as HTML
Redirected to http://test.hostlogin
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:11:19', '2015-04-13 05:11:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:11:19', '2015-04-13 05:11:19', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (110.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$P/uyH.drZAw4PB0Bthra7O/qI3F.H0.52uaZEXZyPBo0zIHLcJlme"], ["created_at", "2015-04-13 05:11:19.748443"], ["updated_at", "2015-04-13 05:11:19.748443"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$z8qup1jn68dsBX13G5LpsOYc8fFAAziv5daqVl9XOr2N.dqc2J0Py"], ["created_at", "2015-04-13 05:11:19.754719"], ["updated_at", "2015-04-13 05:11:19.754719"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$lY3twe6.qIcHmDpvdiMXy.543yphsVH85mJIsa.VtL7sMwPmlD9Ge"], ["created_at", "2015-04-13 05:11:19.789056"], ["updated_at", "2015-04-13 05:11:19.789056"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to 
Completed 500 Internal Server Error in 6ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$dtZzLcKCIzopwll12Oo5Fey/PH9c3WX9GSissDu.xuoIzsONb0eby"], ["created_at", "2015-04-13 05:11:19.812726"], ["updated_at", "2015-04-13 05:11:19.812726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to 
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$9Tward7kSlSk/zN3AjaqVe5wmET7IH7Q/Bu5LTtp7iUxBVuNe69fS"], ["created_at", "2015-04-13 05:11:19.821563"], ["updated_at", "2015-04-13 05:11:19.821563"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (30.2ms)
Completed 400 Bad Request in 213ms (Views: 210.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (5.8ms)
Completed 200 OK in 40ms (Views: 40.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (2.9ms)
Completed 400 Bad Request in 21ms (Views: 20.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.9ms)
Completed 400 Bad Request in 36ms (Views: 31.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 24ms (Views: 23.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.1ms)
Completed 400 Bad Request in 25ms (Views: 21.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$Ygmbv5m9SaWRiQ49Plm87usWUbHIoP21JMu3O4e28Yh4EXlq7U7fa"], ["created_at", "2015-04-13 05:11:20.196392"], ["updated_at", "2015-04-13 05:11:20.196392"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 23ms (Views: 19.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$0gaW4W6o49EntaOq2RJq.ugzqi7YteHwSEpfA4Yh1Tu0WeA1IOWMC"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 05:11:20.227392"], ["updated_at", "2015-04-13 05:11:20.227392"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:11:24', '2015-04-13 05:11:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:11:24', '2015-04-13 05:11:24', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (126.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$gEXuE6eDbQ0aKiMIJLevA.HvwqSFJqwleQNkIbqSLz4IIcguokbJG"], ["created_at", "2015-04-13 05:11:24.424401"], ["updated_at", "2015-04-13 05:11:24.424401"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$6RlIyN263sxAx7o06M/6KuH9O9oKwIxbQDVrQuaniGRgXk.geUTRa"], ["created_at", "2015-04-13 05:11:24.443401"], ["updated_at", "2015-04-13 05:11:24.443401"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (10.5ms)
Completed 200 OK in 71ms (Views: 70.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 200 OK in 36ms (Views: 36.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$.ON0CaYhvK8rFkEexiyome3f1hO1ilAKlmxgIROwPKcXKmtp92ekO"], ["created_at", "2015-04-13 05:11:24.594245"], ["updated_at", "2015-04-13 05:11:24.594245"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to 
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$GT4AUvSBRIuXMjjR6b1ise.2UddlXcp1bJrft1O9t461XYufrHFOa"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 05:11:24.617597"], ["updated_at", "2015-04-13 05:11:24.617597"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$YZTx0Ba0zDUXUg4SVNxQAe0xAKOULLAQppRoxuB1DpDzRAIXe5k26"], ["created_at", "2015-04-13 05:11:24.623468"], ["updated_at", "2015-04-13 05:11:24.623468"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 24ms (Views: 19.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$JIR5IQkJrxUkTRJUKXxndukybXdLjGTDdm5YveXgcAwIqZDmpvdHG"], ["created_at", "2015-04-13 05:11:24.653542"], ["updated_at", "2015-04-13 05:11:24.653542"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (2.9ms)
Completed 400 Bad Request in 22ms (Views: 20.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 28ms (Views: 24.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 20ms (Views: 19.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$/7VJTKPEZGL94EW2Bxsjkee2ZoqRrQJU.sHMe5v.aiKfKYtnf52Am"], ["created_at", "2015-04-13 05:11:24.734256"], ["updated_at", "2015-04-13 05:11:24.734256"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to 
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.5ms)
Completed 400 Bad Request in 25ms (Views: 21.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:12:47', '2015-04-13 05:12:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:12:47', '2015-04-13 05:12:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (120.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$/jgpnUo8p3RB14iommc7uejamqq.4NYtZuDAX6OOVhlr4p5WkEPL."], ["created_at", "2015-04-13 05:12:47.472512"], ["updated_at", "2015-04-13 05:12:47.472512"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$zCrqQcIDau9pPn8VsZBAhesXCqmKatHfd.ka1guipFfAwyGRhRWTW"], ["created_at", "2015-04-13 05:12:47.480184"], ["updated_at", "2015-04-13 05:12:47.480184"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (10.9ms)
Completed 200 OK in 74ms (Views: 73.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (3.3ms)
Completed 400 Bad Request in 49ms (Views: 44.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$awcrWAJURo0CwUWskLuHxOBq/vq8UUOO1CY4aDao/yt/xQc0jhMqO"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 05:12:47.644713"], ["updated_at", "2015-04-13 05:12:47.644713"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.8ms)
Completed 400 Bad Request in 26ms (Views: 21.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.4ms)
Completed 400 Bad Request in 26ms (Views: 21.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$ZDTXNWg8dy5H4Y5yAi8.1ePQqrBT7TvpTl.VtjkPK8n1s7FnJm1cy"], ["created_at", "2015-04-13 05:12:47.708041"], ["updated_at", "2015-04-13 05:12:47.708041"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to 
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$sO9HrSZ/hh8d29WqdB2b1O2SN0l1hjeSSz2xKmbD6F.5OLkgJcjXC"], ["created_at", "2015-04-13 05:12:47.716027"], ["updated_at", "2015-04-13 05:12:47.716027"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to 
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$7muCYziBmNZZsYYm/CwxL.cIfaifrg8Z/q7Jhyq/u90BNIsDWy6fW"], ["created_at", "2015-04-13 05:12:47.723839"], ["updated_at", "2015-04-13 05:12:47.723839"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 27ms (Views: 25.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$HyeloYYoAu2mX2DUzC7.a.Q3v4rrKY983WMADE4HZAx/fKFxLBTli"], ["created_at", "2015-04-13 05:12:47.756387"], ["updated_at", "2015-04-13 05:12:47.756387"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 24ms (Views: 20.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.0ms)
Completed 200 OK in 20ms (Views: 20.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:14:07', '2015-04-13 05:14:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:14:07', '2015-04-13 05:14:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (127.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$n4qUeLcvJrzEShOsGuGyB.Gte5vKbqV/e5yiF/8C5UZPTpTtlbIgm"], ["created_at", "2015-04-13 05:14:08.129986"], ["updated_at", "2015-04-13 05:14:08.129986"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$y6kYggFFLmZh79lGiV0w2evTfb9H1ywNQeTccOXQoUr4l6ahXGvOu"], ["created_at", "2015-04-13 05:14:08.140548"], ["updated_at", "2015-04-13 05:14:08.140548"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$3ld/KeOY2E7989lvQwb7fOLGjccNucFTcS4SJ1OqwQODpveq6M7si"], ["created_at", "2015-04-13 05:14:08.182136"], ["updated_at", "2015-04-13 05:14:08.182136"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (11.8ms)
Completed 400 Bad Request in 80ms (Views: 79.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$mr26.0JEKHxVjOl5Qb7.tOINfdiYlwbYx224SHGRmXC0aMZvxVhCa"], ["created_at", "2015-04-13 05:14:08.278892"], ["updated_at", "2015-04-13 05:14:08.278892"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (5.4ms)
Completed 200 OK in 37ms (Views: 37.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (3.2ms)
Completed 200 OK in 21ms (Views: 21.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$s9RY1XgVjuEmtj4mhFvwcOWu4SI/XM0ojUJAIwbZfjTyMEmlv9LSi"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 05:14:08.353569"], ["updated_at", "2015-04-13 05:14:08.353569"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$XxXd35HEK52TfzenZiafs.IfHSZvXgcsz9/JtJIpRq1q0VGDdA62y"], ["created_at", "2015-04-13 05:14:08.359984"], ["updated_at", "2015-04-13 05:14:08.359984"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 22ms (Views: 20.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.8ms)
Completed 400 Bad Request in 30ms (Views: 26.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$T7XQ26HxcCjCjbWwu8r/SO.IoNnRjkMEsNGpypphT8YvSiAXRLiWK"], ["created_at", "2015-04-13 05:14:08.421434"], ["updated_at", "2015-04-13 05:14:08.421434"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 25ms (Views: 20.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.3ms)
Completed 400 Bad Request in 26ms (Views: 21.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:14:58', '2015-04-13 05:14:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:14:58', '2015-04-13 05:14:58', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (122.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$2OyFAAfGB.MwydFtjg./3u.K4ydyebd9e9Esbngi0urxHTzolYcx2"], ["created_at", "2015-04-13 05:14:58.629860"], ["updated_at", "2015-04-13 05:14:58.629860"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$mSxPbBM3epNerTl02cdKKOVFMttA3QgSQKkJ.sRtwRPayaQxLsfhG"], ["created_at", "2015-04-13 05:14:58.656256"], ["updated_at", "2015-04-13 05:14:58.656256"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$JO585w30gqGhqGnzzLEitepnH6x2hPTffx0.Id/1cq2LF2YJy3dBe"], ["created_at", "2015-04-13 05:14:58.668101"], ["updated_at", "2015-04-13 05:14:58.668101"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 12ms (ActiveRecord: 0.2ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$lrnr4twqlQgi0LRAJZjoL.ydWq.bmAdaOtvgoRXPeBg7YK/.i3uOa"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 05:14:58.690060"], ["updated_at", "2015-04-13 05:14:58.690060"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$cYHa5aWbHpvaJV8vk/jhUOh5PrQbgea21CPsUGYV9/l9Fn8Kh0YVq"], ["created_at", "2015-04-13 05:14:58.696731"], ["updated_at", "2015-04-13 05:14:58.696731"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (10.3ms)
Completed 400 Bad Request in 74ms (Views: 72.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$Ri4xZIKpOI6h.HmYFGlp/Ow1DsZJZTPI7gzWTnPR5NcjzIiP9Vqpi"], ["created_at", "2015-04-13 05:14:58.777362"], ["updated_at", "2015-04-13 05:14:58.777362"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (5.7ms)
Completed 400 Bad Request in 48ms (Views: 42.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 400 Bad Request in 25ms (Views: 20.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.8ms)
Completed 400 Bad Request in 21ms (Views: 20.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 24ms (Views: 24.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$/e5..YA977aBN.i2O4DJFOMoZ6qzVx6cUcncBD0vcM7K7D4UzVLWq"], ["created_at", "2015-04-13 05:14:58.908703"], ["updated_at", "2015-04-13 05:14:58.908703"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 200 OK in 21ms (Views: 20.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 25ms (Views: 20.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:15:17', '2015-04-13 05:15:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:15:17', '2015-04-13 05:15:17', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (126.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (17.0ms)
Completed 400 Bad Request in 77ms (Views: 71.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$EKGdfKPMuqvLc7x2IF3pVeiI3UPudXROyLHd4MFUecjmCmtBZWsPO"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 05:15:17.277485"], ["updated_at", "2015-04-13 05:15:17.277485"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 22ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (8.2ms)
Completed 400 Bad Request in 48ms (Views: 41.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 200 OK in 29ms (Views: 28.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$h5P06L2q4/a8n1CVJFgVWe/t.S.nLj/HZUg5wzi7V2E6471g.lz4G"], ["created_at", "2015-04-13 05:15:17.367737"], ["updated_at", "2015-04-13 05:15:17.367737"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 22ms (Views: 20.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (2.9ms)
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$zj94DxUcq./tbfXR7TL1n.groM.cjdjnDb2ZpH5RyMmdb9YxpIL.y"], ["created_at", "2015-04-13 05:15:17.417840"], ["updated_at", "2015-04-13 05:15:17.417840"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$YScmGa9jYXPjKq9UXRakpunMYOsB0BbuB87ctd/.BuHQX2ZnjwiF."], ["created_at", "2015-04-13 05:15:17.427280"], ["updated_at", "2015-04-13 05:15:17.427280"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.8ms)
Completed 400 Bad Request in 29ms (Views: 24.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$c0RlZWUXaBmmUdvAfHcnO.pJ5L2EQOX3Uu5XvG8lzVtPEzudRaldK"], ["created_at", "2015-04-13 05:15:17.466207"], ["updated_at", "2015-04-13 05:15:17.466207"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 25ms (Views: 20.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$MPqlQJHtQzb.nzBoIiyCq.QdBlU4Yp/HH.Tocbfw3CoDSTVDzUN0S"], ["created_at", "2015-04-13 05:15:17.506628"], ["updated_at", "2015-04-13 05:15:17.506628"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$dQCkNhp/Itt86HTsuvaIS.SruqotGMVMvaeOLEfq.kgEzjXC3GmxC"], ["created_at", "2015-04-13 05:15:17.527467"], ["updated_at", "2015-04-13 05:15:17.527467"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:16:06', '2015-04-13 05:16:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:16:06', '2015-04-13 05:16:06', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (116.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (10.6ms)
Completed 400 Bad Request in 83ms (Views: 65.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (7.0ms)
Completed 200 OK in 39ms (Views: 38.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$j832sEpx1ngCM2.8F4AL1OTW6n.io61g1ORQQ3qLG2176XaqO8SSu"], ["created_at", "2015-04-13 05:16:06.928720"], ["updated_at", "2015-04-13 05:16:06.928720"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 8ms (ActiveRecord: 0.1ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$.ZV6fVwGGqZt/0eoAWk.W.4WGb7t72K2GNbue6K6l5KEnM.ALbP8G"], ["created_at", "2015-04-13 05:16:06.946373"], ["updated_at", "2015-04-13 05:16:06.946373"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 400 Bad Request in 36ms (Views: 30.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 19ms (Views: 19.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$/u2CTC9nlLfA.ddQnKXUceF4TinOX/XzhfrRTCi1s9k53dQI8BqSu"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 05:16:07.011857"], ["updated_at", "2015-04-13 05:16:07.011857"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.0ms)
Completed 400 Bad Request in 21ms (Views: 20.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$Be6pDnevIa8DCsiRWQ8aoOBN53Qz5hXnHiKJQCfYIOl9LsX6X.q2C"], ["created_at", "2015-04-13 05:16:07.040468"], ["updated_at", "2015-04-13 05:16:07.040468"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.4ms)
Completed 400 Bad Request in 30ms (Views: 25.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$hUhEt.RNQDT8U3RETc.suuozns.r9LaNDQHGhmLkhf17KY9Zw1LDy"], ["created_at", "2015-04-13 05:16:07.081140"], ["updated_at", "2015-04-13 05:16:07.081140"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (2.9ms)
Completed 400 Bad Request in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$LtxR4sOtguLpBJ5cz8Dlhuofj2GV4IhrOWIHuZwGaSll4CwIZgsTO"], ["created_at", "2015-04-13 05:16:07.118341"], ["updated_at", "2015-04-13 05:16:07.118341"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$48gQsYY1naAhIL1/I/JxCeP7D/O/fTa5A33fW2Vrs2qaJOvCHb2dK"], ["created_at", "2015-04-13 05:16:07.134503"], ["updated_at", "2015-04-13 05:16:07.134503"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:16:41', '2015-04-13 05:16:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 05:16:41', '2015-04-13 05:16:41', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (121.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$Fmq82lbFwVs2EMAkrKWq6eEranSdCl17bhZJMZsRpwv9twSRqMN/O"], ["created_at", "2015-04-13 05:16:41.513788"], ["updated_at", "2015-04-13 05:16:41.513788"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$FlCCw7HozQqoI.JI0yRBhuEcPtyj4WiUmdE/L2Lz9O48TbfTqjMUO"], ["created_at", "2015-04-13 05:16:41.528356"], ["updated_at", "2015-04-13 05:16:41.528356"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (17.3ms)
Completed 400 Bad Request in 83ms (Views: 78.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$BDNvMehDYiAm18EHvhNine/tteLKFVrbP2fhnUEXtv.ylVy9kif1G"], ["created_at", "2015-04-13 05:16:41.623879"], ["updated_at", "2015-04-13 05:16:41.623879"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 39ms (Views: 34.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (5.8ms)
Completed 400 Bad Request in 34ms (Views: 33.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.3ms)
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 20ms (Views: 19.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$faNvK2WJ/DuaAxJbJuEVEeuZJTEET0c6hvDReE//tsDmDsrvcaNhe"], ["created_at", "2015-04-13 05:16:41.750892"], ["updated_at", "2015-04-13 05:16:41.750892"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 27ms (Views: 24.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.1ms)
Completed 400 Bad Request in 26ms (Views: 22.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$nq6uJWR85cc1Gb0fBmObFOHl2Cr49Teg7OJPa9MsUPhGZXcFmyd4q"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 05:16:41.813265"], ["updated_at", "2015-04-13 05:16:41.813265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$ouyv1nabRQ4PZpUIvfiC.eKtW8d88KL1OTuNpVskOMX73SYVRUOx."], ["created_at", "2015-04-13 05:16:41.819307"], ["updated_at", "2015-04-13 05:16:41.819307"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$dULZRDWGtMCvdKNjIIO9gOokTnG2b.oVzJKU5aYSROLBHYJ/HVLc6"], ["created_at", "2015-04-13 05:16:41.849318"], ["updated_at", "2015-04-13 05:16:41.849318"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:06:44', '2015-04-13 14:06:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:06:44', '2015-04-13 14:06:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36m (164.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------
ContactControllerTest: test_should_be_redirected_to_login_page
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$5VlHWcHiByNjEN6xob4TdOnO1dzr/UMHqeaR8ayjW3JGHcPNxXjuW"], ["created_at", "2015-04-13 14:06:44.833827"], ["updated_at", "2015-04-13 14:06:44.833827"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$owJA3wHvVPPTePj48unV..DUPZ1wXXUDVEw0zdvZ4KqGKD3Qsb4ka"], ["created_at", "2015-04-13 14:06:44.846109"], ["updated_at", "2015-04-13 14:06:44.846109"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (16.7ms)
Completed 200 OK in 256ms (Views: 255.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (5.0ms)
Completed 400 Bad Request in 51ms (Views: 45.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$TkWt498nryVceiygitL/vOGtKDACKg1Mi1vzcJ2SFCw2cem61EIJW"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:06:45.205262"], ["updated_at", "2015-04-13 14:06:45.205262"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$uY3Ha0oExrj/pN5PX0LlmOD3bi14eXesG3LyOBsFhGfSSG.J3RY1a"], ["created_at", "2015-04-13 14:06:45.211695"], ["updated_at", "2015-04-13 14:06:45.211695"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (9.1ms)
Completed 400 Bad Request in 58ms (Views: 53.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$KBkUpTEeSRmPKk7oBhnHuO/ep2C/8rNG8wdthcivq0byXa58FpYbC"], ["created_at", "2015-04-13 14:06:45.276174"], ["updated_at", "2015-04-13 14:06:45.276174"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.1ms)
Completed 400 Bad Request in 28ms (Views: 22.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (3.0ms)
Completed 200 OK in 26ms (Views: 25.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 25ms (Views: 20.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$x/f0W3ALGnXvnNx8ReJtbOyZyLbLdCcnHplrz0qbloBYgnj/6KwqG"], ["created_at", "2015-04-13 14:06:45.372201"], ["updated_at", "2015-04-13 14:06:45.372201"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$OeA8gFEW48QeV5XUqq8xNus5pj6Q9wvw7uouC0BhWSQXdxR/HvvZK"], ["created_at", "2015-04-13 14:06:45.380702"], ["updated_at", "2015-04-13 14:06:45.380702"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 23ms (Views: 21.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:07:02', '2015-04-13 14:07:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:07:02', '2015-04-13 14:07:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (163.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$GW3WCKlN0jwGxxjqzAP0zecAgOuko6FTkwnGO3KNl4CNHTIrDF7l."], ["created_at", "2015-04-13 14:07:02.726609"], ["updated_at", "2015-04-13 14:07:02.726609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$Tf5E3rTZshnuVbbiP3o3oe7TSnJqzhR6IUtBcjSl7PKHANwhJ9mSW"], ["created_at", "2015-04-13 14:07:02.747200"], ["updated_at", "2015-04-13 14:07:02.747200"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
ContactControllerTest: test_should_be_redirected_to_login_page
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (11.9ms)
Completed 400 Bad Request in 80ms (Views: 75.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$2Nfz9zCkAnbK68u0SeE5LOnkNO0M.b8M2YsP24XHrstGOpgAgDHwS"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:07:02.885561"], ["updated_at", "2015-04-13 14:07:02.885561"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$8HLzaXH8Z70Ng5v0hWX6Xevw8wPKKoJO/q8B3heJpkY4tGU9JiZ4u"], ["created_at", "2015-04-13 14:07:02.894008"], ["updated_at", "2015-04-13 14:07:02.894008"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 8ms (ActiveRecord: 0.2ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (6.1ms)
Completed 200 OK in 40ms (Views: 39.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.1ms)
Completed 200 OK in 21ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 21ms (Views: 20.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$bvyrI/3uYiXLdeRPIlEgvehdMHphQcEeBDoSmV4.EyZkB7t.f.4kG"], ["created_at", "2015-04-13 14:07:03.000382"], ["updated_at", "2015-04-13 14:07:03.000382"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.4ms)
Completed 400 Bad Request in 31ms (Views: 27.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$1NbH0kqUyjSEZv/NELuSw.0dx0N.K3Cje6q8p64/uLIFkmKf0jKJO"], ["created_at", "2015-04-13 14:07:03.043036"], ["updated_at", "2015-04-13 14:07:03.043036"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 26ms (Views: 21.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$uvluATwUpxLHnnIDe6wK/u7jiIbfwfabdXHKkJkJCmihtothA9m3S"], ["created_at", "2015-04-13 14:07:03.075772"], ["updated_at", "2015-04-13 14:07:03.075772"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 25ms (Views: 22.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:07:26', '2015-04-13 14:07:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:07:26', '2015-04-13 14:07:26', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (133.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$lzkk6ANkqM3XZCe0nDszhOCRkw92fFfjBQuMk5wF7eRd1luf3Ah.G"], ["created_at", "2015-04-13 14:07:26.486660"], ["updated_at", "2015-04-13 14:07:26.486660"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$v2yJl5mMEW5lVJW/eftagezVSNTCAFB7JXTPIoj8wspahiVzSWNlm"], ["created_at", "2015-04-13 14:07:26.507488"], ["updated_at", "2015-04-13 14:07:26.507488"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$JPfY28mflKBnvq1Dv9HB8.irKmZmSSdGtPYPbpV8dzqKMeBARqJcK"], ["created_at", "2015-04-13 14:07:26.530732"], ["updated_at", "2015-04-13 14:07:26.530732"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (12.0ms)
Completed 400 Bad Request in 86ms (Views: 80.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (11.0ms)
Completed 400 Bad Request in 72ms (Views: 67.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$BLd1xLORjey/FwhfkSkhI.IaQANPdZzNXVZwYpM4Ocn0UpJDjqq0u"], ["created_at", "2015-04-13 14:07:26.700887"], ["updated_at", "2015-04-13 14:07:26.700887"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 24ms (Views: 20.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$gpoVArYxhRNUBCEbCjJUFOxC79ZZWswQ3kjVSVLhb2Dwf3pwRBZhe"], ["created_at", "2015-04-13 14:07:26.731895"], ["updated_at", "2015-04-13 14:07:26.731895"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$rdsMVd0R/uKHWwzH3qUFdeJCFPZnYGvecQGudvhuPqBEmy9tEp0BG"], ["created_at", "2015-04-13 14:07:26.742715"], ["updated_at", "2015-04-13 14:07:26.742715"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.0ms)
Completed 400 Bad Request in 22ms (Views: 21.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.4ms)
Completed 200 OK in 29ms (Views: 29.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$UM..M8Zh7d31R6NHSuZX9.UUTWtyUJ/I.ow5i1bus0ptkYyeTkCKi"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:07:26.807191"], ["updated_at", "2015-04-13 14:07:26.807191"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.3ms)
Completed 200 OK in 19ms (Views: 19.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.4ms)
Completed 400 Bad Request in 36ms (Views: 31.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:09:21', '2015-04-13 14:09:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:09:21', '2015-04-13 14:09:21', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (657.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (20.2ms)
Completed 200 OK in 83ms (Views: 78.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (6.9ms)
Completed 400 Bad Request in 55ms (Views: 45.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$..ma6cbiBSoqwdfpJpBGseU0ELsj0zS..3dM15/6ELgvfL0Q2AVf2"], ["created_at", "2015-04-13 14:09:21.904840"], ["updated_at", "2015-04-13 14:09:21.904840"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (6.1ms)
Completed 400 Bad Request in 44ms (Views: 38.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 24ms (Views: 19.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$gUPnWPfWr3Ldgkl4V.zaU.vny0F.xavujU0blHKhY/KArSSToq9f2"], ["created_at", "2015-04-13 14:09:21.988554"], ["updated_at", "2015-04-13 14:09:21.988554"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 26ms (Views: 24.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (4.2ms)
Completed 200 OK in 25ms (Views: 25.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$PLgldxSwKOw0JKTL78IAMeXJWEBOwTejEdwicHAutJe9bplq/MtmS"], ["created_at", "2015-04-13 14:09:22.048593"], ["updated_at", "2015-04-13 14:09:22.048593"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$a.e0azbzg63UgGUUMWi0Ue0dOF9A/KWUnKZ36qAA6nuWdriKDVZZq"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:09:22.058720"], ["updated_at", "2015-04-13 14:09:22.058720"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$/Yb3uIzIh/OQFRfuDZ3HS.j8LIAkwaCwiCgl8YAlTlw.an9N1stxG"], ["created_at", "2015-04-13 14:09:22.066037"], ["updated_at", "2015-04-13 14:09:22.066037"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.0ms)
Completed 400 Bad Request in 37ms (Views: 31.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$6D3SLdeBabc7bQ9EU1fBH.Yaii7paryvt9R6eTUQ/Hi9IA49dV5a6"], ["created_at", "2015-04-13 14:09:22.122804"], ["updated_at", "2015-04-13 14:09:22.122804"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mContact Load (0.1ms)[0m  [1mSELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?[0m  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$CEVsDMcJ2PiMytx/0GD4iezYKPpIBx6ouUtgZ3p/KnRqOT5N4iaXq"], ["created_at", "2015-04-13 14:09:22.157090"], ["updated_at", "2015-04-13 14:09:22.157090"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$g4EwG3S8QtlwSCxNbqILGOBgm0f1/.2AOG3yWuiYX8uxoqtF6.GVC"], ["created_at", "2015-04-13 14:09:22.164581"], ["updated_at", "2015-04-13 14:09:22.164581"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$WGSossXJEaHI1xRXsNuG4.dNQCdupN1IruIaKbeHupkdreS8rg3l."], ["created_at", "2015-04-13 14:09:22.186215"], ["updated_at", "2015-04-13 14:09:22.186215"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:12:02', '2015-04-13 14:12:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:12:02', '2015-04-13 14:12:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (199.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$XFLW9r2LjM7AJvLP8ASiF.s.XF2cw5paR2WyvHHPYbtliJydxzdaG"], ["created_at", "2015-04-13 14:12:02.675967"], ["updated_at", "2015-04-13 14:12:02.675967"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$hP4fSM9g1Y1Zm/amSDmAPeJPJhbKGs8TxAz.u8xveU5rtGiP37YBy"], ["created_at", "2015-04-13 14:12:02.713088"], ["updated_at", "2015-04-13 14:12:02.713088"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$p55M/Vv.1SUUMufjgJkfpeb/PQ99GW9ILySwK1Xp1uxZZYC.vNLMa"], ["created_at", "2015-04-13 14:12:02.766958"], ["updated_at", "2015-04-13 14:12:02.766958"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1mSELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?[0m  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 106ms (Views: 99.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$T6raZxGe.ceZ4wgo8nq.UucbyWF6eykldiYNF.rQcUcKIHcsm19cm"], ["created_at", "2015-04-13 14:12:02.886001"], ["updated_at", "2015-04-13 14:12:02.886001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$ga4FXtAVgWeCs5o72j2Pper/dFLd4nl93KpHhw49GjwDdmzNfu5y."], ["created_at", "2015-04-13 14:12:02.909470"], ["updated_at", "2015-04-13 14:12:02.909470"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$F.ssjub8TbiULcVywKE3Pu4ei3./7RUR120CGDzVAO9D3S3JAQmDq"], ["created_at", "2015-04-13 14:12:02.927758"], ["updated_at", "2015-04-13 14:12:02.927758"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (22.0ms)
Completed 400 Bad Request in 76ms (Views: 68.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (6.0ms)
Completed 400 Bad Request in 36ms (Views: 34.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$RWUmbbdLLrR5F7/OMYVcEuSutAIkldDvqY0lY/b4.zB3bTDVLMnu6"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:12:03.062397"], ["updated_at", "2015-04-13 14:12:03.062397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.2ms)
Completed 400 Bad Request in 39ms (Views: 32.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (3.4ms)
Completed 200 OK in 37ms (Views: 36.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (5.1ms)
Completed 200 OK in 33ms (Views: 33.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$sGatYUFwNLK4PyUmJyNPCOR/IOKkM3opV8Rbnd2ZLtpy2DMUawrbm"], ["created_at", "2015-04-13 14:12:03.187879"], ["updated_at", "2015-04-13 14:12:03.187879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (5.1ms)
Completed 400 Bad Request in 36ms (Views: 33.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$GlLQn71m/Hmea88.ytdCVOdIqn.CM0loOVPgJvDZydhU8ld6jvDVK"], ["created_at", "2015-04-13 14:12:03.232415"], ["updated_at", "2015-04-13 14:12:03.232415"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.1ms)
Completed 400 Bad Request in 43ms (Views: 36.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:12:12', '2015-04-13 14:12:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:12:12', '2015-04-13 14:12:12', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (117.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$xKMNfQyt66Gr4Bd6dN7mpOBoFfh5tDfk9nxmew/AsOpApVaE/jbCm"], ["created_at", "2015-04-13 14:12:13.052017"], ["updated_at", "2015-04-13 14:12:13.052017"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (23.8ms)
Completed 200 OK in 80ms (Views: 79.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (6.5ms)
Completed 200 OK in 48ms (Views: 47.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$Tol51r8lMnnRpVjUzPQWUedddRBjXpRaHJtNmf.lm2vz/H2QJ2Fy6"], ["created_at", "2015-04-13 14:12:13.202293"], ["updated_at", "2015-04-13 14:12:13.202293"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (4.5ms)
Completed 400 Bad Request in 36ms (Views: 33.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.8ms)
Completed 400 Bad Request in 26ms (Views: 22.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$4BUrqS/Yqb0IQPr2cuC4c.JU/qWr8lZ1pX/x4QX6Md.mG2glCwuVK"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:12:13.275403"], ["updated_at", "2015-04-13 14:12:13.275403"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.5ms)
Completed 400 Bad Request in 23ms (Views: 22.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$IXNOfmgu4DkvBQ8ZzemVmupxR.Fyh0kLEzzyMqECFl0d1fzSOVU.K"], ["created_at", "2015-04-13 14:12:13.305957"], ["updated_at", "2015-04-13 14:12:13.305957"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 30ms (Views: 25.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.0ms)
Completed 400 Bad Request in 25ms (Views: 20.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$IBWIUpyHsSk429orujIwU.SNEoOcfQP/7tjM/XHsqvdjeJusfJUgi"], ["created_at", "2015-04-13 14:12:13.370397"], ["updated_at", "2015-04-13 14:12:13.370397"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$xohNje8PqGCfwESFaQU3GOZXI7hl9bmhPLykikp5ZvF.5AWUVXXZq"], ["created_at", "2015-04-13 14:12:13.390069"], ["updated_at", "2015-04-13 14:12:13.390069"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$BuJCMzEgFqR0ghvtr9dBJedJ7umMpCxO3sViUkVHnFWwn7SzdrNpi"], ["created_at", "2015-04-13 14:12:13.416896"], ["updated_at", "2015-04-13 14:12:13.416896"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$6pktaekhQOLHvQqT.vKn4O/6bZEDFDOXJruYpIM2trNvmJEmyEV1y"], ["created_at", "2015-04-13 14:12:13.435194"], ["updated_at", "2015-04-13 14:12:13.435194"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$jXVREwPrX5q3xJuXaEkm4u1XpyLKjL8GNSnkYGY3bfF5p68GTmmjK"], ["created_at", "2015-04-13 14:12:13.442969"], ["updated_at", "2015-04-13 14:12:13.442969"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.1ms)[0m  SELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 27ms (Views: 26.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:13:45', '2015-04-13 14:13:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:13:45', '2015-04-13 14:13:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (770.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
ContactsControllerTest: test_GET_index
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$/O1W0Bj.Tuxz3tuTh4o3zOaLBo55TZ7GiR5zFI4JXTbr.nXMNpyDG"], ["created_at", "2015-04-13 14:13:45.878106"], ["updated_at", "2015-04-13 14:13:45.878106"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$5EWc1qiKT.Fvd7/T2wOkLeQO5FW62eLSXVDnBnJce2MlSMeq5Sayi"], ["created_at", "2015-04-13 14:13:45.884131"], ["updated_at", "2015-04-13 14:13:45.884131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$7moqujQNfotoieW8J0ftaOhwTsTfPigX0f5QdMEtYcKPtA.X17llG"], ["created_at", "2015-04-13 14:13:45.905515"], ["updated_at", "2015-04-13 14:13:45.905515"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (10.6ms)
Completed 200 OK in 103ms (Views: 102.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$zymGnjjytgFIUJBDq0ZfVueCmfXDKvcJP2TwDRpWNUyOpmuGGep7W"], ["created_at", "2015-04-13 14:13:46.041564"], ["updated_at", "2015-04-13 14:13:46.041564"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 45ms (Views: 38.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$cKu9zd5En8mpzI7K35ZjZ.dvvo5xsKUVoeUhM8dnxqUmFHFqhXzJq"], ["created_at", "2015-04-13 14:13:46.105829"], ["updated_at", "2015-04-13 14:13:46.105829"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 30ms (Views: 25.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$Jcwqhksw1g.dbTM.Xrdjdu71g1y4lJhJjHRWBNWP31yXsUogxuUVK"], ["created_at", "2015-04-13 14:13:46.141826"], ["updated_at", "2015-04-13 14:13:46.141826"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$7V2x/jF2YAs2GuG6L3MiD.LiagKe1xkNkmQjU3B7zE7oz1HOR6pJ6"], ["created_at", "2015-04-13 14:13:46.150809"], ["updated_at", "2015-04-13 14:13:46.150809"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (4.1ms)
Completed 400 Bad Request in 27ms (Views: 25.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 30ms (Views: 26.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (2.9ms)
Completed 400 Bad Request in 21ms (Views: 20.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (4.0ms)
Completed 200 OK in 24ms (Views: 24.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$BkFUR6nvhEQO/BUET8caEO6/lNbvEFBg2CZMDvSnmvH8iO5ZA0PNC"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:13:46.267276"], ["updated_at", "2015-04-13 14:13:46.267276"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:16:29', '2015-04-13 14:16:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:16:29', '2015-04-13 14:16:29', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (203.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$dAze8OTrp2Q1B.w.3bJ7DeNEvqn8cq.hSqeUp3W6Ova1Gudb1LSHy"], ["created_at", "2015-04-13 14:16:30.015081"], ["updated_at", "2015-04-13 14:16:30.015081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (11.7ms)
Completed 200 OK in 80ms (Views: 79.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (7.1ms)
Completed 400 Bad Request in 47ms (Views: 41.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$zA2g12Q6VDRv/W.32OqhGeibMF7ukG3LQgUybBHoVhC6ibdFrOWtq"], ["created_at", "2015-04-13 14:16:30.178137"], ["updated_at", "2015-04-13 14:16:30.178137"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 24ms (Views: 19.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$vSsirkGWcCPHYhT7X2jChOhqtb5DkTxhsPqNVQz2e1urdoT4jJeKy"], ["created_at", "2015-04-13 14:16:30.208300"], ["updated_at", "2015-04-13 14:16:30.208300"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$ZhuGgFXoc66DHy9yx2yFPOKHWhymBx/miWGEzeR.EzUZSJnAr8Qky"], ["created_at", "2015-04-13 14:16:30.218054"], ["updated_at", "2015-04-13 14:16:30.218054"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (2.9ms)
Completed 400 Bad Request in 22ms (Views: 20.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 26ms (Views: 25.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 26ms (Views: 21.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (1.9ms)
Completed 200 OK in 20ms (Views: 19.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$hjLef04.VVKzrnvhUUvgGOhWkgSLpr/OLytpuxdO1./cP9KCRYhGW"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:16:30.325324"], ["updated_at", "2015-04-13 14:16:30.325324"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$QyFBlr9g0fTMvnHonSQcwOKkTYUPS491ggdb0VK9Gw2k3KPvZUINC"], ["created_at", "2015-04-13 14:16:30.332936"], ["updated_at", "2015-04-13 14:16:30.332936"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$.fAa6TOdiUs0eNdv1PQ7veFJ8Oj/0zNlP34BM.A2QTsdNqqVt8atC"], ["created_at", "2015-04-13 14:16:30.364013"], ["updated_at", "2015-04-13 14:16:30.364013"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$KLRuJ2l25TKHbJa5gnuWWuS9lFDTFbl9mHsUzBjvLHNScC3J4vmoy"], ["created_at", "2015-04-13 14:16:30.376570"], ["updated_at", "2015-04-13 14:16:30.376570"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
ContactsControllerTest: test_should_get_non-empty_list
------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$vqYN6xNhN/w0VR2FklVz.estBm05T5j0km8BlQZs4L5xNMC8xvpm."], ["created_at", "2015-04-13 14:16:30.383105"], ["updated_at", "2015-04-13 14:16:30.383105"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "522552"], ["created_at", "2015-04-13 14:16:30.385265"], ["updated_at", "2015-04-13 14:16:30.385265"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1mSELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?[0m  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 28ms (Views: 26.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$PGQdkRQWk5W8fs3EE2FP4eV3k0JBYnMTX3NKkXgFCfFKnM5W2QOXu"], ["created_at", "2015-04-13 14:16:30.419819"], ["updated_at", "2015-04-13 14:16:30.419819"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.0ms)[0m  SELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:17:06', '2015-04-13 14:17:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:17:06', '2015-04-13 14:17:06', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (159.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$EnwnjMB92Q1gM2AADaUlCO/KSzHSeCagpe8GKkOqEMT3q9pmHh3eq"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:17:06.929732"], ["updated_at", "2015-04-13 14:17:06.929732"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 22ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$DBD.9AdHOwcvwzCMpM/VdOrWNqxBY0h8XgbsTMt/KRNVYj41qWtuy"], ["created_at", "2015-04-13 14:17:06.936673"], ["updated_at", "2015-04-13 14:17:06.936673"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (22.2ms)
Completed 400 Bad Request in 83ms (Views: 82.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (4.8ms)
Completed 200 OK in 36ms (Views: 35.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (6.7ms)
Completed 200 OK in 38ms (Views: 38.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.4ms)
Completed 400 Bad Request in 28ms (Views: 23.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$jcuKJLwiDet5OE3GYf0NI.cn1LopxMXHr58GfjsIqlwYqau62xpl."], ["created_at", "2015-04-13 14:17:07.144295"], ["updated_at", "2015-04-13 14:17:07.144295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 28ms (Views: 23.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$zUv8jveSTrnkDcB7U9cIsO4DN0RFXnRSMmS1a/PsOwLxeLp4.JSuG"], ["created_at", "2015-04-13 14:17:07.180083"], ["updated_at", "2015-04-13 14:17:07.180083"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.4ms)
Completed 400 Bad Request in 30ms (Views: 25.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$nCPxLzkXgbnGqXnFlVvq5O.2bWxA/ndTrw7XIaCDBmvOuHE8fBGha"], ["created_at", "2015-04-13 14:17:07.220928"], ["updated_at", "2015-04-13 14:17:07.220928"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.8ms)
Completed 400 Bad Request in 24ms (Views: 22.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$hlgbxVeiNRzaHr0P8Y2ydOVCdxm96iSHQln0oIGKCHHeJasNzAV5G"], ["created_at", "2015-04-13 14:17:07.252831"], ["updated_at", "2015-04-13 14:17:07.252831"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$calExvi9nqkYjE2kpUnNGulThddJ/7INq9/m44xuFC2Zq0ldR3fzS"], ["created_at", "2015-04-13 14:17:07.259587"], ["updated_at", "2015-04-13 14:17:07.259587"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$lovoo3cId8ayPfg8cmyR9.VqBx1GG7kqXDXiqxBKsXHu01uz8eNna"], ["created_at", "2015-04-13 14:17:07.298681"], ["updated_at", "2015-04-13 14:17:07.298681"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$9n8WXuc9gSCHZuQmfFmhIucUkOiWWaaQs5LJKYWSyE4uNbQCqIdl2"], ["created_at", "2015-04-13 14:17:07.306583"], ["updated_at", "2015-04-13 14:17:07.306583"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.1ms)[0m  SELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 30ms (Views: 28.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactsControllerTest: test_should_get_non-empty_list
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$EG.vtLrDaOtNfcefp19OgOu1GYvoYPQ4GRlMeRN3Tz8DbcqPMUq92"], ["created_at", "2015-04-13 14:17:07.342643"], ["updated_at", "2015-04-13 14:17:07.342643"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "522552"], ["users_id", 1], ["created_at", "2015-04-13 14:17:07.348907"], ["updated_at", "2015-04-13 14:17:07.348907"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.0ms)[0m  SELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 22ms (Views: 21.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:17:43', '2015-04-13 14:17:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:17:43', '2015-04-13 14:17:43', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (120.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (23.9ms)
Completed 200 OK in 77ms (Views: 72.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (5.4ms)
Completed 400 Bad Request in 42ms (Views: 27.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$TNY5o6KXvIEUrIEXAVlgb.rQDs9I5VbCxWw.L0vu3VJPycIzJ3XRi"], ["created_at", "2015-04-13 14:17:43.555499"], ["updated_at", "2015-04-13 14:17:43.555499"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 19ms (Views: 18.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$Xh7VgzrRBEv6Q47xAcSekOxO7Si7PljRR/eGxdb7Flz/1anE6bUSa"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:17:43.590692"], ["updated_at", "2015-04-13 14:17:43.590692"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.5ms)
Completed 400 Bad Request in 25ms (Views: 19.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.8ms)
Completed 400 Bad Request in 26ms (Views: 25.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$rfIyuUeUMQb5L8ftOsEdvuJEB/m/bE1Ch.jC5OTlKoNqZSLbYvtwG"], ["created_at", "2015-04-13 14:17:43.651359"], ["updated_at", "2015-04-13 14:17:43.651359"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.2ms)
Completed 400 Bad Request in 23ms (Views: 21.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$JLpcyd.pCHDzcFd2ys75MOeGbAWpNbEu/t2sEW8JV/nIr3SUND7.G"], ["created_at", "2015-04-13 14:17:43.680582"], ["updated_at", "2015-04-13 14:17:43.680582"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$SRFcSFeHYEpKdHQeR151zO/Gp1.Lg3QJ3dVtyio8KHFsuNCae1WdG"], ["created_at", "2015-04-13 14:17:43.689627"], ["updated_at", "2015-04-13 14:17:43.689627"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.4ms)
Completed 400 Bad Request in 26ms (Views: 21.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$RJGs00IM8h5XBK.G3NrLR.24UcOfssxRu47mIkWdkU6aQfVhAzeWm"], ["created_at", "2015-04-13 14:17:43.724303"], ["updated_at", "2015-04-13 14:17:43.724303"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$897r1n9lH0AyPT4sVZ861uJvzZV3hYDecdWdmEFBx2Lp0pJ3z5QAq"], ["created_at", "2015-04-13 14:17:43.758187"], ["updated_at", "2015-04-13 14:17:43.758187"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$39kqLARn4zIOiyeYp5zm5O/q9AwGNMYFLkYf5wLX7vAemomww9nM."], ["created_at", "2015-04-13 14:17:43.773999"], ["updated_at", "2015-04-13 14:17:43.773999"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$4.BBDF7iwMcQ9ITL12QYS.C9tkZAZj.SIs7wTPhQamFiX914rC8VO"], ["created_at", "2015-04-13 14:17:43.781616"], ["updated_at", "2015-04-13 14:17:43.781616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.2ms)[0m  SELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 26ms (Views: 25.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactsControllerTest: test_should_get_non-empty_list
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$QK3ChtdEp3uaO67Jrs3iduoQ.fKSWfOkEOnDkJZBzHVQWLD52XF7q"], ["created_at", "2015-04-13 14:17:43.813827"], ["updated_at", "2015-04-13 14:17:43.813827"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "522552"], ["users_id", 1], ["created_at", "2015-04-13 14:17:43.815745"], ["updated_at", "2015-04-13 14:17:43.815745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.1ms)[0m  SELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:28:11', '2015-04-13 14:28:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:28:11', '2015-04-13 14:28:11', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (106.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
ContactsControllerTest: test_should_add_contact
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$qRmTfLHSIv4CgZV3mM7ukOfocuLZU1FfL6FsNlQP2HUv11uyUvQ7W"], ["created_at", "2015-04-13 14:28:11.163913"], ["updated_at", "2015-04-13 14:28:11.163913"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#create as HTML
  Parameters: {"first_name"=>"Dummy", "last_name"=>"Dummy", "phone_number"=>"52255", "users_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 400 Bad Request in 5ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactsControllerTest: test_should_get_non-empty_list
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$9JpP2tnoQRWruiIBA5gOTOfPc4VlRnB0QAOk4aktTVTYVeR83p5um"], ["created_at", "2015-04-13 14:28:11.182303"], ["updated_at", "2015-04-13 14:28:11.182303"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "522552"], ["users_id", 1], ["created_at", "2015-04-13 14:28:11.184190"], ["updated_at", "2015-04-13 14:28:11.184190"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.2ms)[0m  SELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 61ms (Views: 60.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$kk0y7e.L9Nh2GoY7D2SMO.7rp1KzNnrYegJ1N3EMol2qfK6bF1L5m"], ["created_at", "2015-04-13 14:28:11.253408"], ["updated_at", "2015-04-13 14:28:11.253408"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$KyodEYbZlhteK2xpp7drR.fuqWe3qbIDaLiRpifqh2hjUiQt1xjRq"], ["created_at", "2015-04-13 14:28:11.262958"], ["updated_at", "2015-04-13 14:28:11.262958"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.0ms)[0m  SELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 35ms (Views: 34.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (24.3ms)
Completed 200 OK in 47ms (Views: 46.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$cAkNoaDL83dWoLlQW34Iq.Eq1TSly89YoKk6BJWX2TmVKOkSY3K2W"], ["created_at", "2015-04-13 14:28:11.363463"], ["updated_at", "2015-04-13 14:28:11.363463"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$9upCj3Kzz7Yh143ZYOJ60OCATgpRNWlbLJwGPEZnllTIUB5WZjwxq"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:28:11.375010"], ["updated_at", "2015-04-13 14:28:11.375010"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.4ms)
Completed 400 Bad Request in 24ms (Views: 23.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$DzTv9BdAUkzRJBESep1AF.pfhnuZd/tzHO4jO08kmJF/8oBB3hY1S"], ["created_at", "2015-04-13 14:28:11.407827"], ["updated_at", "2015-04-13 14:28:11.407827"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.6ms)
Completed 400 Bad Request in 34ms (Views: 32.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (5.0ms)
Completed 400 Bad Request in 26ms (Views: 22.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$8Hw/n2ERxtQIV0uUUovwg.4.kH.Z/BD7asINbpqezaMjA2LQKsG9K"], ["created_at", "2015-04-13 14:28:11.476978"], ["updated_at", "2015-04-13 14:28:11.476978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 26ms (Views: 20.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.9ms)
Completed 200 OK in 27ms (Views: 26.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (3.5ms)
Completed 400 Bad Request in 28ms (Views: 23.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$YzZcIMUGdL3SO0aK/1Y7kuaT6PiTibhK3xhHmYDArF44I0f..H1cy"], ["created_at", "2015-04-13 14:28:11.568787"], ["updated_at", "2015-04-13 14:28:11.568787"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$g9MM32CgG3rPWbUx4P73d.U70T975hdDr2gMfRaD1LsE5/1l0NRD6"], ["created_at", "2015-04-13 14:28:11.597860"], ["updated_at", "2015-04-13 14:28:11.597860"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$DtiwRgu2gJjJVuklrQipdeRjdDhPSkPE5G8Vppyj8EGookjsbqGha"], ["created_at", "2015-04-13 14:28:11.605652"], ["updated_at", "2015-04-13 14:28:11.605652"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:28:51', '2015-04-13 14:28:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:28:51', '2015-04-13 14:28:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (182.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactsControllerTest: test_should_get_non-empty_list
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$z5XM3lR0NzzNXDsCYWFCWeoz6T4F0w2MpbcU1KmUJuReOXFmyOgC."], ["created_at", "2015-04-13 14:28:51.701349"], ["updated_at", "2015-04-13 14:28:51.701349"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "522552"], ["users_id", 1], ["created_at", "2015-04-13 14:28:51.707130"], ["updated_at", "2015-04-13 14:28:51.707130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.2ms)[0m  SELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 69ms (Views: 64.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$I7PiqSLePf8ZGUt.YDj42.m/TdyKxARwttrxljYxO.SFCDgfmsCB2"], ["created_at", "2015-04-13 14:28:51.785576"], ["updated_at", "2015-04-13 14:28:51.785576"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mContact Load (0.0ms)[0m  [1mSELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?[0m  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 40ms (Views: 38.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$AXdidYknsoENk2kYtIYgOuXJ4zVt4ld3HNJGB9cNBQ1W.nOTp79SC"], ["created_at", "2015-04-13 14:28:51.832713"], ["updated_at", "2015-04-13 14:28:51.832713"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
ContactsControllerTest: test_should_add_contact
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$2y7AsVR5Ugc86SdDtKcvs.D1LRUh3JNRx3T4nT4xMzKRS41AfIsAy"], ["created_at", "2015-04-13 14:28:51.840460"], ["updated_at", "2015-04-13 14:28:51.840460"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"first_name"=>"Dummy", "last_name"=>"Dummy", "phone_number"=>"52255", "users_id"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "52255"], ["users_id", 1], ["created_at", "2015-04-13 14:28:51.845013"], ["updated_at", "2015-04-13 14:28:51.845013"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/contacts
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$2sG2MgcfObgfVJsZOvCaaO2FBYVZPSsnrSxQF6992mKzNqm0HrGAu"], ["created_at", "2015-04-13 14:28:51.888591"], ["updated_at", "2015-04-13 14:28:51.888591"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$mz9ZWzQ5bfWoYzyQvWXugOB5eD5suj1YqCyJwdewuZld7ZryrXEti"], ["created_at", "2015-04-13 14:28:51.895025"], ["updated_at", "2015-04-13 14:28:51.895025"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$M94TqchAKf883RjlawHN9uTtHieJVgTC2mRNqoe0puB/hU5MnuU2e"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:28:51.914157"], ["updated_at", "2015-04-13 14:28:51.914157"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$CwDj91hT9FxtSVagtTQ.0ecVrN76xuqL0fbq5rABQxp6QNC2EzAWO"], ["created_at", "2015-04-13 14:28:51.920628"], ["updated_at", "2015-04-13 14:28:51.920628"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (10.8ms)
Completed 400 Bad Request in 36ms (Views: 31.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 26ms (Views: 21.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 32ms (Views: 27.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.7ms)
Completed 400 Bad Request in 28ms (Views: 27.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$emfiY34nQ9dz11aZZMY0Tudf7LQv3WtLguRPW8iuaBQgHmsSWBO1e"], ["created_at", "2015-04-13 14:28:52.056987"], ["updated_at", "2015-04-13 14:28:52.056987"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$hsqaKa6cb2g.NjlGEPFPp.x8ZfenCWBryj5flIdqpz82DP2ZVbPXC"], ["created_at", "2015-04-13 14:28:52.068333"], ["updated_at", "2015-04-13 14:28:52.068333"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.7ms)
Completed 200 OK in 23ms (Views: 22.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.1ms)
Completed 200 OK in 31ms (Views: 30.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$skgp1lwCHMTrW/vAW/9QY.Ildh6LrLxMUlUb.dwPyGAEHTGCHvwFa"], ["created_at", "2015-04-13 14:28:52.137636"], ["updated_at", "2015-04-13 14:28:52.137636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (5.9ms)
Completed 400 Bad Request in 29ms (Views: 26.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:29:00', '2015-04-13 14:29:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:29:00', '2015-04-13 14:29:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (646.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$eU10gou/5w4Fo.w1P7IS0.P3l6egbwInHh9WUpqH89Cz7frsQcRzm"], ["created_at", "2015-04-13 14:29:00.877032"], ["updated_at", "2015-04-13 14:29:00.877032"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
ContactsControllerTest: test_should_add_contact
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$CAAwjVsqvRM7Gzzn5jGdNeLaiQ/KUVY8UB1DWhU05aZ1RUsBhsQCG"], ["created_at", "2015-04-13 14:29:00.885868"], ["updated_at", "2015-04-13 14:29:00.885868"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"first_name"=>"Dummy", "last_name"=>"Dummy", "phone_number"=>"52255", "users_id"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "52255"], ["users_id", 1], ["created_at", "2015-04-13 14:29:00.896756"], ["updated_at", "2015-04-13 14:29:00.896756"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/contacts
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$knmyX0Z8dye2VbIMBTC.v.Z02DgTEtomNPKUfAEcni4Q1Luch.V1m"], ["created_at", "2015-04-13 14:29:00.902978"], ["updated_at", "2015-04-13 14:29:00.902978"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1mSELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?[0m  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 66ms (Views: 65.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
ContactsControllerTest: test_should_get_non-empty_list
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$ezGk6W0SqRAZmkag0MKjcOkucLPKaFeekzsLTUA1REUQHZ29Yuzue"], ["created_at", "2015-04-13 14:29:00.976839"], ["updated_at", "2015-04-13 14:29:00.976839"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "522552"], ["users_id", 1], ["created_at", "2015-04-13 14:29:00.979154"], ["updated_at", "2015-04-13 14:29:00.979154"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mContact Load (0.1ms)[0m  [1mSELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?[0m  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 39ms (Views: 38.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$hms8S9TIF4Zu0xy7m/FfM.nWcdzsDRxl9//240X2lX.RtCI0/o8ve"], ["created_at", "2015-04-13 14:29:01.062991"], ["updated_at", "2015-04-13 14:29:01.062991"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$CdiHTdcJ31vqlGcMsoPyxO5mM.JopaQQlM6WIlbexJzt/h7N4heq6"], ["created_at", "2015-04-13 14:29:01.072745"], ["updated_at", "2015-04-13 14:29:01.072745"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (9.3ms)
Completed 200 OK in 29ms (Views: 29.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.5ms)
Completed 400 Bad Request in 25ms (Views: 23.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$yA7O3p.PuRpiG5GTAkl49OhcPy3BzbBhfxl..9r.i/9HMP4v46PEm"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:29:01.149814"], ["updated_at", "2015-04-13 14:29:01.149814"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$tGPU5aNmZrwMYZT7LMO6ju6Q5oYSB8c5cSbozgDBv5zjRn..2ohJ6"], ["created_at", "2015-04-13 14:29:01.156481"], ["updated_at", "2015-04-13 14:29:01.156481"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$auPKlPDCUKaeAAMV57FZCOfi31NKe3paFOasJt59cInrYV/r5QcXS"], ["created_at", "2015-04-13 14:29:01.164709"], ["updated_at", "2015-04-13 14:29:01.164709"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 39ms (Views: 34.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.5ms)
Completed 200 OK in 23ms (Views: 22.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 26ms (Views: 21.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$.gpH.fwM6BlXmYcXjnsfZ.eBZRywhPuyHIjT8B0oLjsxh2rW0o9um"], ["created_at", "2015-04-13 14:29:01.264007"], ["updated_at", "2015-04-13 14:29:01.264007"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 400 Bad Request in 27ms (Views: 25.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$4adS.beYBb8doGy//thnG.hEmS8YM2Q24JQqrTg6JPPRQ6YiNd91m"], ["created_at", "2015-04-13 14:29:01.297662"], ["updated_at", "2015-04-13 14:29:01.297662"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 27ms (Views: 22.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:29:13', '2015-04-13 14:29:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 14:29:13', '2015-04-13 14:29:13', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (511.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$dYHi.BXXHkIDNuNi8Vv0.eYU3KfFMjvT5xvj8OqTGjkmV6V9y8RVO"], ["created_at", "2015-04-13 14:29:14.075652"], ["updated_at", "2015-04-13 14:29:14.075652"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mContact Load (0.1ms)[0m  [1mSELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?[0m  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 66ms (Views: 61.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
ContactsControllerTest: test_should_get_non-empty_list
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$4rkMiofK2mq3OOCLZS6M0eOoyp5aKI9PpOl8VU8jZ8PahhU/mkN16"], ["created_at", "2015-04-13 14:29:14.150999"], ["updated_at", "2015-04-13 14:29:14.150999"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "522552"], ["users_id", 1], ["created_at", "2015-04-13 14:29:14.160235"], ["updated_at", "2015-04-13 14:29:14.160235"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mContact Load (0.1ms)[0m  [1mSELECT "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ?[0m  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 35ms (Views: 34.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
ContactsControllerTest: test_should_add_contact
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$r3NxtnQXma01TQj53Q18OOYlGEL/2o.0vdfD63Ton7GC7AfLnI/1u"], ["created_at", "2015-04-13 14:29:14.204022"], ["updated_at", "2015-04-13 14:29:14.204022"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"first_name"=>"Dummy", "last_name"=>"Dummy", "phone_number"=>"52255", "users_id"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "52255"], ["users_id", 1], ["created_at", "2015-04-13 14:29:14.210322"], ["updated_at", "2015-04-13 14:29:14.210322"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/contacts
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36mContact Load (0.2ms)[0m  [1mSELECT "contacts".* FROM "contacts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$XiEFb5RBy3ZOpFBqSFQ7aevx0KlbMw4qTXtjM8Lk7FHaMWDF/rAZi"], ["created_at", "2015-04-13 14:29:14.221454"], ["updated_at", "2015-04-13 14:29:14.221454"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (22.4ms)
Completed 400 Bad Request in 54ms (Views: 41.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (3.6ms)
Completed 400 Bad Request in 26ms (Views: 24.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered account/register_form.html.erb within layouts/application (6.1ms)
Completed 400 Bad Request in 31ms (Views: 26.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$fiWrs1Yfl5ZJIzUs.7TCaeZOJOKU.9XFv/MsXUnh1DCd8R0tfQ95W"], ["created_at", "2015-04-13 14:29:14.361953"], ["updated_at", "2015-04-13 14:29:14.361953"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.0ms)
Completed 400 Bad Request in 22ms (Views: 20.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (4.3ms)
Completed 200 OK in 23ms (Views: 22.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.0ms)
Completed 200 OK in 20ms (Views: 19.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$T.ixPIJh92S63IPKxvk0Qu9BwIpQDZ5Pnud4ziD1kaDwGuM6Sqa.a"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 14:29:14.437515"], ["updated_at", "2015-04-13 14:29:14.437515"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.hostlogin
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$5PxzsS751R/kisOmaiPklOUGQR1XYDoTJWmkhTARmhRoV0tLxjlfe"], ["created_at", "2015-04-13 14:29:14.443728"], ["updated_at", "2015-04-13 14:29:14.443728"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$PoyI21DvS4k2NdzrqLJAm.vcyQBGZEyFe3p5rL.kGaitvoJiOmQte"], ["created_at", "2015-04-13 14:29:14.457013"], ["updated_at", "2015-04-13 14:29:14.457013"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$/nsMlzgLhU1dLAFSaxagU.5NlIfINlUtsu3XmQEIyANfkFGC7VHMW"], ["created_at", "2015-04-13 14:29:14.465084"], ["updated_at", "2015-04-13 14:29:14.465084"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered account/register_form.html.erb within layouts/application (2.7ms)
Completed 400 Bad Request in 25ms (Views: 20.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$wfYFTGm8ndq/PeEOB0rJoeKPymoLAknahE7LIZyQkhpRSAYvs.R1a"], ["created_at", "2015-04-13 14:29:14.497395"], ["updated_at", "2015-04-13 14:29:14.497395"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$Bj5SalJ6zu0GVsT1Nh/q9uhe8bKg5M6Bm7nBbnO/PLpaIlU.GAXke"], ["created_at", "2015-04-13 14:29:14.517673"], ["updated_at", "2015-04-13 14:29:14.517673"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 19:40:26', '2015-04-13 19:40:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 19:40:26', '2015-04-13 19:40:26', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (196.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (412.3ms)
Completed 400 Bad Request in 676ms (Views: 663.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$VcUpEIrgXgMUOauI0KffLuI8m95FOU8eZwD5lrioV4lG0SRGcPXke"], ["created_at", "2015-04-13 19:40:27.412745"], ["updated_at", "2015-04-13 19:40:27.412745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  Rendered account/register_form.html.erb within layouts/application (6.0ms)
Completed 400 Bad Request in 46ms (Views: 39.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$NgwfOfbYrlJdGGXQPaqoN.IyC24dIYXygwdmQ3TsJpI1inLqpO0YW"], ["created_at", "2015-04-13 19:40:27.473040"], ["updated_at", "2015-04-13 19:40:27.473040"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (24.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$VeK19TLPDe7KIYBhLGU6A.9Oh/Zk0J29n52l1Oo09V0AG31kk2FY2"], ["created_at", "2015-04-13 19:40:27.527131"], ["updated_at", "2015-04-13 19:40:27.527131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.3ms)
Completed 400 Bad Request in 23ms (Views: 21.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$6d7ZDs9hE5ItuSigDBKjGOi44E9Mn4UUIj7pHrJsIt3sANt9uNhMq"], ["created_at", "2015-04-13 19:40:27.565899"], ["updated_at", "2015-04-13 19:40:27.565899"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (2.1ms)
Completed 200 OK in 20ms (Views: 19.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1[0m
  Rendered account/register_form.html.erb within layouts/application (4.4ms)
Completed 400 Bad Request in 29ms (Views: 25.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["password_digest", "$2a$04$eOUeU2F69dTA75tAOfWJkO4hm4aJvz2Hz051OPNFGDfGqqN31kILy"], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 19:40:27.634570"], ["updated_at", "2015-04-13 19:40:27.634570"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (5.2ms)
Completed 200 OK in 36ms (Views: 36.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  Rendered account/register_form.html.erb within layouts/application (4.5ms)
Completed 400 Bad Request in 43ms (Views: 37.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$8zguOop/oJ/GcMd4k0Xb4ekMEhcHmwO9CkuLiP1TvyM7xgPN0esZW"], ["created_at", "2015-04-13 19:40:27.752237"], ["updated_at", "2015-04-13 19:40:27.752237"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
ContactsControllerTest: test_should_add_contact
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$yFinl0HO6nVgN/MCyx/HzOEhMvh9NRPyo.NnR/SmCJGMd2Toi3TVG"], ["created_at", "2015-04-13 19:40:27.765153"], ["updated_at", "2015-04-13 19:40:27.765153"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"first_name"=>"Dummy", "last_name"=>"Dummy", "phone_number"=>"52255", "users_id"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "52255"], ["users_id", 1], ["created_at", "2015-04-13 19:40:27.777348"], ["updated_at", "2015-04-13 19:40:27.777348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/contacts
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[36mContact Load (0.2ms)[0m  [1mSELECT "contacts".* FROM "contacts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$2nRRjrcgWMXrP75D/HaHZOPK.gasq1MKHrseJpf2GwI3.ImkQbMXi"], ["created_at", "2015-04-13 19:40:27.786865"], ["updated_at", "2015-04-13 19:40:27.786865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.2ms)[0m  SELECT  "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ? LIMIT 10 OFFSET 0  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 46ms (Views: 44.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactsControllerTest: test_should_get_non-empty_list
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$g/knV7EIYxYsPPKQgdSJku9nEch/VG6OJeFjDGC0Gx37V6HWq.p72"], ["created_at", "2015-04-13 19:40:27.842495"], ["updated_at", "2015-04-13 19:40:27.842495"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "522552"], ["users_id", 1], ["created_at", "2015-04-13 19:40:27.845660"], ["updated_at", "2015-04-13 19:40:27.845660"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.1ms)[0m  SELECT  "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ? LIMIT 10 OFFSET 0  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 33ms (Views: 32.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$8K2GlXOm0evm9fTXzeAgu.TVf/QQDcmg4zsubBhCHn/qdWkJ9ZKSy"], ["created_at", "2015-04-13 19:40:27.919233"], ["updated_at", "2015-04-13 19:40:27.919233"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$hpCfXoY6hJ/eBSY/pTpJwOQL75XKzAL43OJf.oLLVyHZm0EyPTajO"], ["created_at", "2015-04-13 19:40:27.929996"], ["updated_at", "2015-04-13 19:40:27.929996"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "contacts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 19:41:12', '2015-04-13 19:41:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2015-04-13 19:41:12', '2015-04-13 19:41:12', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (148.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_username_should_be_unique
----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$xKeIS.Kl4ET/BvuWTQdzXO/tabeGcrUY6ST6XWA9pcuvYc8n.7xoy"], ["created_at", "2015-04-13 19:41:13.115382"], ["updated_at", "2015-04-13 19:41:13.115382"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UserTest: test_user_without_email_should_be_invalid
---------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_password_should_be_longer_than_6
-----------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_saved
------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "test"], ["email", "test@op.pl"], ["password_digest", "$2a$04$P0Fl2oTUtcRH6AM9BpmBUOgF./AM24fOZN.Pm.xKWvD46BUcotVFi"], ["created_at", "2015-04-13 19:41:13.139503"], ["updated_at", "2015-04-13 19:41:13.139503"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
UserTest: test_user_without_password_should_be_invalid
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_user_with_different_passwords_should_be_invalid
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('test@op.pl') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
AccountControllerTest: test_login_should_fails
----------------------------------------------
Processing by AccountController#login as HTML
  Parameters: {"username"=>"test", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "test"]]
  Rendered account/form.html.erb within layouts/application (11.9ms)
Completed 400 Bad Request in 83ms (Views: 77.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
AccountControllerTest: test_should_be_logged_in
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$YD./CwRRF1V1aQOvKFLR6uXN2ZHLNRjrjNJl34cRP.PiOYR5QsxnS"], ["created_at", "2015-04-13 19:41:13.257468"], ["updated_at", "2015-04-13 19:41:13.257468"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
AccountControllerTest: test_should_get_register_form
----------------------------------------------------
Processing by AccountController#register_form as HTML
  Rendered account/register_form.html.erb within layouts/application (5.9ms)
Completed 200 OK in 52ms (Views: 51.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AccountControllerTest: test_should_register_user
------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["password_digest", "$2a$04$x8fy.fGYIB/XAGyZGoP3Hez6c/JK.eSUucHmDshve9J6U38oxqio."], ["email", "dummy@dummy.com"], ["created_at", "2015-04-13 19:41:13.323519"], ["updated_at", "2015-04-13 19:41:13.323519"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/login
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_password
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$Qt7Wd5gsfn/1B/jCmQr9SuaUVp4MqjlmGXhnv.JwTjTldVQzKXM.."], ["created_at", "2015-04-13 19:41:13.330784"], ["updated_at", "2015-04-13 19:41:13.330784"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "dummy"]]
  Rendered account/form.html.erb within layouts/application (3.6ms)
Completed 400 Bad Request in 27ms (Views: 25.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
AccountControllerTest: test_should_return_username_in_use
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$9OD/RW6vszrYICK4ViB2m.Q4zaFkXBKcC728PPvOKRCJEi4RkpvUq"], ["created_at", "2015-04-13 19:41:13.364625"], ["updated_at", "2015-04-13 19:41:13.364625"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  Rendered account/register_form.html.erb within layouts/application (2.6ms)
Completed 400 Bad Request in 26ms (Views: 21.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------
AccountControllerTest: test_should_get_login_form
-------------------------------------------------
Processing by AccountController#form as HTML
  Rendered account/form.html.erb within layouts/application (3.1ms)
Completed 200 OK in 26ms (Views: 25.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
AccountControllerTest: test_should_return_bad_response
------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"email"=>""}}
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('') LIMIT 1
  Rendered account/register_form.html.erb within layouts/application (4.3ms)
Completed 400 Bad Request in 26ms (Views: 22.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
AccountControllerTest: test_should_be_log_out
---------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$P0KYlySH0XWXlmXQfTKRt.r4vdKUijE18MTHmz2n43HGLHLXW9Hti"], ["created_at", "2015-04-13 19:41:13.453402"], ["updated_at", "2015-04-13 19:41:13.453402"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AccountController#login as HTML
  Parameters: {"username"=>"dummy", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "dummy"]]
Redirected to http://test.host/contacts
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Processing by AccountController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
AccountControllerTest: test_should_return_password_confirmation_fails
---------------------------------------------------------------------
Processing by AccountController#register as HTML
  Parameters: {"user"=>{"username"=>"dummy", "email"=>"dummy@dummy.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy@dummy.com') LIMIT 1[0m
  Rendered account/register_form.html.erb within layouts/application (5.0ms)
Completed 400 Bad Request in 28ms (Views: 23.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
ContactTest: test_empty_contact_should_be_invalid
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ContactTest: test_incomplete_contact_should_be_invalid
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------
ContactTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------
ContactsControllerTest: test_should_be_allowed_to_view_list
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$GuFfQv9i8iLOjrGUTRowB.LRaZ.fzZMmc2fu3Mhgwp6EVKuTj8VcK"], ["created_at", "2015-04-13 19:41:13.513431"], ["updated_at", "2015-04-13 19:41:13.513431"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ? LIMIT 10 OFFSET 0[0m  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 30ms (Views: 28.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
ContactsControllerTest: test_should_be_redirected_to_login_page
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$tXv5PcSDYhRVbLodtThHr.CIbO1IOvra5hVC7QeAe2AwTPWBzMg9C"], ["created_at", "2015-04-13 19:41:13.550499"], ["updated_at", "2015-04-13 19:41:13.550499"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :check_if_logged rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
ContactsControllerTest: test_should_get_non-empty_list
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$oSjL9vuYpvZD3X0vIJ2gI.1Qg5b2lCu3SkU.7uY35LQz9v7nLTuhq"], ["created_at", "2015-04-13 19:41:13.556791"], ["updated_at", "2015-04-13 19:41:13.556791"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "522552"], ["users_id", 1], ["created_at", "2015-04-13 19:41:13.558524"], ["updated_at", "2015-04-13 19:41:13.558524"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ContactsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mContact Load (0.1ms)[0m  SELECT  "contacts".* FROM "contacts" WHERE "contacts"."users_id" = ? LIMIT 10 OFFSET 0  [["users_id", 1]]
  Rendered contacts/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
ContactsControllerTest: test_should_add_contact
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('dummy') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('dummy1@dummy.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "dummy"], ["email", "dummy1@dummy.com"], ["password_digest", "$2a$04$VwRniFjqnO6gca81F94AceqJ9FNM3/s6RNLUpfZhrl1i8CTZHHVre"], ["created_at", "2015-04-13 19:41:13.587748"], ["updated_at", "2015-04-13 19:41:13.587748"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"first_name"=>"Dummy", "last_name"=>"Dummy", "phone_number"=>"52255", "users_id"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "contacts" ("first_name", "last_name", "phone_number", "users_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Dummy"], ["last_name", "Dummy"], ["phone_number", "52255"], ["users_id", 1], ["created_at", "2015-04-13 19:41:13.592015"], ["updated_at", "2015-04-13 19:41:13.592015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/contacts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35mContact Load (0.1ms)[0m  SELECT "contacts".* FROM "contacts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
